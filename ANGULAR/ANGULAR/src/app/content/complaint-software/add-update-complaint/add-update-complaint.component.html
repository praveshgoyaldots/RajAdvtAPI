<div class="row">
  <div class="col l12 m12 s12 mb-20 mt-10">

  </div>
  <form [formGroup]="frmGrp" (ngSubmit)="Saveclick();">
    <div class="col l12 m12 s12 mb-20 mt-10">
      <mat-label class="d-block mb-10">Description <span style="color: red">*</span> </mat-label>


      <mat-form-field class="example-full-width"
        [ngClass]="{'editor-required':(frmGrp.get('Description').hasError('required') && frmGrp.get('Description').touched)}"
        appearance="outline">



        <input style="display:none; " matInput placeholder="Description" name="Description" #Description>
        <angular-editor formControlName="Description" name="Description" id="Description" [(ngModel)]="model.Description"
          [config]="editorConfig" style="margin-top: 30px;"></angular-editor>
        <mat-hint>{{model.Description?.length}}</mat-hint>
      </mat-form-field>
      <mat-error class="mat-error-static"
        *ngIf="(frmGrp.get('Description').hasError('required') && frmGrp.get('Description').touched)">
        <strong>Description </strong> is required!
      </mat-error>
      </div>
    <div class="col l4 xl4 m6 s12">
      <mat-form-field class="example-full-width" appearance="outline">
        <mat-label>Entry Type</mat-label>
        <mat-select name="Sector" [(ngModel)]="model.EntryTypeId" formControlName="EntryTypeId" #EntryTypeId>
          <mat-option>--Select--</mat-option>
          <mat-option value="{{item.Value}}" *ngFor="let item of dDLList?.ddlEntryTypeModule">{{item.Text}}
          </mat-option>
          </mat-select>
          </mat-form-field>
      <mat-error *ngIf="(frmGrp.get('EntryTypeId').hasError('required') && frmGrp.get('EntryTypeId').touched) ">
        Entry Type is <strong>required</strong>
      </mat-error>
    </div>

    <div class="col l4 xl4 m6 s12">
      <mat-form-field class="example-full-width" appearance="outline">
        <mat-label>Priority</mat-label>
        <mat-select name="Sector" [(ngModel)]="model.PriorityId" formControlName="PriorityId" #PriorityId>
          <mat-option>--Select--</mat-option>
          <mat-option value="{{item.Value}}" *ngFor="let item of dDLList?.ddlPriorityModule">{{item.Text}} </mat-option>
          </mat-select>
          </mat-form-field>
      <mat-error *ngIf="(frmGrp.get('PriorityId').hasError('required') && frmGrp.get('PriorityId').touched) ">










        Priority is <strong>required</strong>
      </mat-error>
    </div>


    <!-- <div class="col l4 xl4 m6 s12">
                  <mat-form-field appearance="outline">
                    <mat-label> Module Name <span style="color: red">*</span> </mat-label>
                    <mat-select name="Type" [(ngModel)]="model.ModuleId" [formControl]="ModuleName">
                      <mat-option>--Select--</mat-option>
                      <mat-option value="{{item.Value}}" *ngFor="let item of dDLList?.ddlModuleName">{{item.Text}} </mat-option>
                    </mat-select>
                  </mat-form-field>
                  <mat-error *ngIf="ModuleName.invalid && ModuleName.touched">
                    Module Name is <strong>required</strong>
                  </mat-error>
                </div> -->
    <div class="col l6 xl6 m6 s12">
      <mat-form-field appearance="outline">
        <mat-label>Application <span style="color: red">*</span> </mat-label>
        <mat-select name="Application" formControlName="ApplicationCode" [(ngModel)]="model.ApplicationCode"
          (selectionChange)="getPageByPageType($event.value)" #ApplicationCode>
          <mat-option value="{{k.Value}}" *ngFor="let k of dDLList?.ddlApplicationType">{{k.Text}}
          </mat-option>
        </mat-select>
        </mat-form-field>
      <mat-error *ngIf="(frmGrp.get('ApplicationCode').hasError('required') && frmGrp.get('ApplicationCode').touched) ">
        Application is <strong>required</strong>
      </mat-error>
      </div>
      <div class="col l6 xl6 m6 s12">
      <mat-form-field appearance="outline">
        <mat-label>Page <span style="color: red">*</span> </mat-label>
        <mat-select name="PageCode" formControlName="PageCode" [(ngModel)]="model.PageCode" #PageCode>
          <mat-option value="{{ k.Value }}" *ngFor="let k of ddlPageMasterDetails">{{ k.Text }}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-error *ngIf="(frmGrp.get('PageCode').hasError('required') && frmGrp.get('PageCode').touched)">
        Page is <strong>required</strong>
      </mat-error>
    </div>

    <div class="col l4 xl4 m6 s12">
      <mat-form-field class="example-full-width" appearance="outline">
        <mat-label>Screen Url <span style="color: red">*</span></mat-label>
        <input matInput placeholder="Screen URL" name="ScreenURL" formControlName="ScreenURL" [(ngModel)]="model.ScreenURL"
          #ScreenURL>
        </mat-form-field>
        <mat-error *ngIf="frmGrp.get('ScreenURL').touched && frmGrp.get('ScreenURL').invalid">
          <div *ngIf="frmGrp.get('ScreenURL').hasError('required')">ScreenURL is <strong>required</strong>.</div>
          <div *ngIf="frmGrp.get('ScreenURL').errors.pattern">Please enter valid url.</div>
        </mat-error>
    </div>

    <div class="col l4 xl4 m6 s12">
      <div class="upload-btn-wrapper">
        <label>Attachment(Pdf/Image(jpeg,png) Only) </label>
        <input type="file" id="file" (change)="handleFileInput($event.target.files)"
          accept="application/pdf,image/jpeg,image/png" multiple>
        </div>


      <ul class="image-list">
        <li *ngFor="let url of documentUrlList; let i = index;">

          <a *ngIf="url.Extension?.toLowerCase()=='pdf'" href="javascript:void();"
            (click)="downloadPdf(url?.Url,url.DisplayName)">
            <mat-icon class="mat-icon notranslate material-icons mat-icon-no-color">picture_as_pdf </mat-icon>
            {{ url.DisplayName}}
          </a>
          <a title="Remove" (click)="RemoveImageFile(i)">
            <mat-icon>delete</mat-icon>
          </a>
          <div *ngIf="url.Extension?.toLowerCase()!='pdf'">
            <img [src]="url?.Url" />
          </div>
          </li>
          </ul>
      <mat-error *ngIf="fileValidationMsg?.length>0">
        {{fileValidationMsg}}
      </mat-error>
    </div>
    <div class="col l12 x8 m4 s12 ">
      <button type="submit" mat-raised-button class="btn-submit">Submit</button>
      </div>
  </form>
</div>
