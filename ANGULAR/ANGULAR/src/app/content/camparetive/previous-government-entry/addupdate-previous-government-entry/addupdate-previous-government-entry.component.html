<div class="row">
  <div class="col l6 xl6 m6 s12">
    <mat-form-field appearance="outline">
      <mat-label>Department <span style="color: red">*</span>:</mat-label>
      <mat-select [formControl]="department" name="department" id="department" [(ngModel)]="model.DepartmentCode" (selectionChange)="getKPIList($event.value);">
          <mat-option value="{{ k.DepartmentCode }}" *ngFor="let k of ddlDepartment">{{ k.DepartmentTitle }}
            </mat-option>
      </mat-select>
    </mat-form-field>
    <mat-error *ngIf="department.invalid && department.touched">
      Department is <strong>required</strong>
    </mat-error>
  </div>

  <div class="col l6 xl6 m6 s12">
    <mat-form-field class="example-full-width" appearance="outline">
      <mat-label>KPI Category<span style="color: red">*</span> </mat-label>
      <mat-select [formControl]="kpi" name="kpi" id="kpi" [(ngModel)]="model.KPICategoryCode" (selectionChange)="GetAllParameterList($event.value);">
        <mat-option value="{{ k.Value }}" *ngFor="let k of ddlKPICategory">{{ k.Text }}
        </mat-option>
      </mat-select>
    </mat-form-field>
    <mat-error *ngIf="kpi.invalid && kpi.touched">
      KPI Category is <strong>required</strong>
    </mat-error>
  </div>

  <div class="col l6 xl6 m6 s12">
    <mat-form-field class="example-full-width" appearance="outline">
      <mat-label>Parameter <span style="color: red">*</span> </mat-label>
      <mat-select [formControl]="parameter" name="parameter" id="parameter" [(ngModel)]="model.ParameterCode" >
        <mat-option value="{{ k.ParameterCode }}" *ngFor="let k of ddlParameter" (onSelectionChange)="getParameterDetail(k);">{{ k.PhysicalParameter }}
        </mat-option>

      </mat-select>
    </mat-form-field>
    <mat-error *ngIf="parameter.invalid && parameter.touched">
      Parameter is <strong>required</strong>
    </mat-error>

  </div>


  <!-- Parameter Section start -->

    <div class="col l12 xl12 m12 s12">
    <table class="table new_table table_border table_custom mb-20 table-camparativtargetentry" *ngIf="yearListModel?.length > 0 && model.ParameterCode>0">
      <thead>
        <tr>
          <th scope="col">Years</th>
          <th scope="col" *ngIf="parameterDetail?.IsPhysical">{{parameterDetail?.PhysicalParameter}}</th>
          <th scope="col" *ngIf="parameterDetail?.IsPhysical">Unit</th>
          <th scope="col" *ngIf="parameterDetail?.IsFinancial" >{{parameterDetail?.FinancialParameter}}</th>
          <th scope="col"  *ngIf="parameterDetail?.IsFinancial">Unit</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of yearListModel; let i = index" [attr.data-index]="i">

          <td>{{item.YearName}}</td>
          <td *ngIf="parameterDetail?.IsPhysical"> <input matInput placeholder="Physical Value" name="{{i}}_PhysicalValue" [(ngModel)]="item.PhysicalValue" >
 </td>
          <td *ngIf="parameterDetail?.IsPhysical">{{parameterDetail.physicalUnitName}} </td>
          <td *ngIf="parameterDetail.IsFinancial"><input matInput placeholder="Financial Value" name="{{i}}_FinancialValue"
              [(ngModel)]="item.FinancialValue" > </td>
          <td *ngIf="parameterDetail.IsFinancial">{{ parameterDetail.FinancialUnitName}}</td>

        </tr>
      </tbody>
    </table>
  </div>
  <!-- Parameter Section End -->

  <div class="col l12 x8 m4 s6 clearfix">
    <button mat-button class="btn-submit" (click)="SaveClick();">Save</button>
  </div>
</div>
