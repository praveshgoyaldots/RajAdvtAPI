<div class="row">
  <div class="col l6 xl6 m6 s12">
    <mat-form-field appearance="outline">
      <mat-label>Department <span style="color: red">*</span>:</mat-label>
      <mat-select [formControl]="department" name="department" id="department" [(ngModel)]="model.DepartmentCode" (selectionChange)="getKPIList($event.value);">
          <mat-option value="{{ k.Value }}" *ngFor="let k of dDLList?.ddlDepartmentForDistrictKPIList">{{ k.Text }}
            </mat-option>
      </mat-select>
    </mat-form-field>
    <mat-error *ngIf="department.invalid && department.touched">
      Department is <strong>required</strong>
    </mat-error>
  </div>
  <div class="col l6 xl6 m6 s12">
    <mat-form-field appearance="outline">
      <mat-label>Parameter Category :</mat-label>
      <mat-select  name="ParameterCategoryCode" id="ParameterCategoryCode" [(ngModel)]="model.ParameterCategoryCode" (selectionChange)="GetAllParameterList()" >
        <mat-option value="{{ k.Value }}" *ngFor="let k of dDLList?.ddlComparativeParameterCategory">{{ k.Text }}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </div>
<!--
  <div class="col l6 xl6 m6 s12">
    <mat-form-field class="example-full-width" appearance="outline">
      <mat-label>KPI Category<span style="color: red">*</span> </mat-label>
      <mat-select [formControl]="kpi" name="kpi" id="kpi" [(ngModel)]="model.KPICategoryCode" (selectionChange)="GetAllParameterList($event.value,model.DepartmentCode);">
        <mat-option value="{{ k.Value }}" *ngFor="let k of ddlKPICategory">{{ k.Text }}
        </mat-option>
      </mat-select>
    </mat-form-field>
    <mat-error *ngIf="kpi.invalid && kpi.touched">
      KPI Category is <strong>required</strong>
    </mat-error>
  </div> -->

  <div class="col l6 xl6 m6 s12">
    <mat-form-field class="example-full-width" appearance="outline">
      <mat-label>Financial Year<span style="color: red">*</span> </mat-label>
      <mat-select [formControl]="year" name="year" id="year" [(ngModel)]="model.YearCode" (selectionChange)="isDuplicateData()">
        <mat-option value="{{ k.Value }}" *ngFor="let k of dDLList?.ddlYearMaster">{{ k.Text }}
        </mat-option>

      </mat-select>
    </mat-form-field>
    <mat-error *ngIf="year.invalid && year.touched">
      Financial Year is <strong>required</strong>
    </mat-error>

  </div>

  <div class="col l6 xl6 m6 s12">
    <mat-form-field class="example-full-width" appearance="outline">
      <mat-label>Month<span style="color: red">*</span> </mat-label>
      <mat-select [formControl]="Month" name="Month" id="Month" [(ngModel)]="model.MonthCode" (selectionChange)="isDuplicateData()">
        <mat-option value="{{ k.Value }}" *ngFor="let k of dDLList?.ddlMonth">{{ k.Text }}
        </mat-option>
      </mat-select>
    </mat-form-field>
    <mat-error *ngIf="Month.invalid && Month.touched">
      Month is <strong>required</strong>
    </mat-error>

  </div>

  <!-- Parameter Section start -->

    <div class="col l12 xl12 m12 s12">
    <table class="table new_table table_border table_custom mb-20 table-camparativtargetentry" *ngIf="listModel?.length > 0">
      <thead>
        <tr>
          <th scope="col">Department Name</th>
          <th scope="col">KPI Category Name</th>
          <th scope="col">Physical Parameter</th>
          <th scope="col">Physical Value</th>
          <th scope="col">Unit</th>
          <th scope="col">Pending Values</th>
          <th scope="col">Financial Parameter</th>
          <th scope="col">Financial Value</th>
          <th scope="col">Unit</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of listModel; let i = index" [attr.data-index]="i">
          <td>{{item.DepartmentTitle}}</td>
          <td>{{item.IsPhysical?item.KPICategoryName:''}}</td>
          <td>{{item.IsPhysical?item.PhysicalParameter:''}}</td>
          <td> <input matInput placeholder="Physical Value" name="{{i}}_PhysicalValue" [(ngModel)]="item.PhysicalValue" *ngIf="item.IsPhysical">
          </td>
          <td>{{item.IsPhysical?item.physicalUnitName:''}} </td>
          <td><input matInput placeholder="Pending Value" name="{{i}}_PendingValue"
            [(ngModel)]="item.PendingValues" ></td>
          <td>{{item.IsFinancial?item.FinancialParameter:''}}</td>
          <td><input matInput placeholder="Financial Value" name="{{i}}_FinancialValue"
              [(ngModel)]="item.FinancialValue" *ngIf="item.IsFinancial"></td>
          <td>{{item.IsFinancial? item.FinancialUnitName:''}}</td>

        </tr>
      </tbody>
    </table>
  </div>
  <!-- Parameter Section End -->

  <div class="col l12 x8 m4 s6 clearfix">
    <button mat-button class="btn-submit" (click)="SaveClick();">Save</button>
  </div>
</div>
