<div class="row">
  <div class="col l12 s12 p-0">
    <div class="row m-20 mb-0">
      <div class="col l3 xl3 m3 s12">
        <mat-form-field class="example-full-width" appearance="outline">
          <mat-label>Page Type </mat-label>
          <mat-select name="PageType" [(ngModel)]="indexModel.PageTypeCode"
            (selectionChange)="getPageByPageType($event.value,indexModel.ApplicationCode);">
            <mat-option value="0">--Select--</mat-option>
            <mat-option value="{{k.Value}}" *ngFor="let k of dDLList?.ddlPageType">{{k.Text}}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      <div class="col l3 xl3 m3 s12">
        <mat-form-field appearance="outline">
          <mat-label>Application </mat-label>
          <mat-select name="Application" [(ngModel)]="indexModel.ApplicationCode"
            (selectionChange)="getPageByPageType(indexModel.PageTypeCode,$event.value)">
            <mat-option value>--Select--</mat-option>
            <mat-option value="{{k.Value}}" *ngFor="let k of dDLList?.ddlApplicationType">{{k.Text}}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      <div class="col l3 xl3 m3 s12">
        <mat-form-field appearance="outline">
          <mat-label>Page </mat-label>
          <mat-select name="PageCode" [(ngModel)]="indexModel.PageCode">
            <mat-option value="{{ k.Value }}" *ngFor="let k of ddlPageMasterDetails">{{ k.Text }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      <div class="col l3 xl3 m3 s12">
        <mat-form-field appearance="outline">
          <mat-label>Manual Type </mat-label>
          <mat-select name="ManualTypeCode" [(ngModel)]="indexModel.ManualTypeCode">
            <mat-option value='0'>All</mat-option>
            <mat-option value="{{ k.Value }}" *ngFor="let k of dDLList?.ddlManualType">{{ k.Text }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      <div class="col l3 xl3 m3 s12 mb-20">
        <button (click)="GetList();" class="btn btn_note btn_green" style="margin-right: 10px;">Search</button>
        <button (click)="clearClick();" class="btn btn_note btn_orange" style="margin-right: 10px;">Clear
          Search</button>
      </div>
    </div>

    <table mat-table [dataSource]="dataSource" matSort (matSortChange)="sortData($event)" class="mat-elevation-z8">
      <ng-container matColumnDef="index">
        <th mat-header-cell *matHeaderCellDef>#</th>
        <td mat-cell *matCellDef="let element; let i = index;">
          {{(indexModel.Page-1)*indexModel.PageSize +(i+1)}}</td>
      </ng-container>
      <ng-container [matColumnDef]="column.Value" *ngFor="let column of ViewdisplayedColumns">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> {{column.Text}} </th>
        <td mat-cell *matCellDef="let element"> {{element[column.Value]}} </td>
      </ng-container>
      <ng-container matColumnDef="Description">
        <th mat-header-cell *matHeaderCellDef>Description</th>
        <td mat-cell *matCellDef="let element">
          <div innerHTML="{{element.Description}}"></div>
        </td>
      </ng-container>
      <ng-container matColumnDef="IsActive">
        <th mat-header-cell *matHeaderCellDef> Active Status </th>
        <td mat-cell *matCellDef="let element" class="action-link toogle-btn">
          <a *ngIf="this.Permission.UpdatePageAccess" (click)="onActiveStatus(element.Id)" title="Update Active Status">
            <mat-icon *ngIf="element.IsActive" style="cursor:pointer;color: #74cb74;">toggle_on</mat-icon>
            <mat-icon *ngIf="!element.IsActive" style="cursor:pointer;color: #ff7373;">toggle_off</mat-icon>
          </a>
          <a *ngIf="!this.Permission.UpdatePageAccess" title="Active Status">
            <mat-icon *ngIf="element.IsActive" style="cursor:pointer;color: #74cb74;">toggle_on</mat-icon>
            <mat-icon *ngIf="!element.IsActive" style="cursor:pointer;color: #ff7373;">toggle_off</mat-icon>
          </a>
        </td>
      </ng-container>
      <ng-container matColumnDef="Action">
        <th mat-header-cell *matHeaderCellDef> Action </th>
        <td mat-cell *matCellDef="let group" class="action-link">
          <a routerLink="/master/childpagemaster-addupdate/{{ group.Id }}" title="Edit" class="btn_list"
            *ngIf="this.Permission.UpdatePageAccess">
            <mat-icon>edit</mat-icon>
          </a>
        </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
      <tr mat-row *matRowDef="let row; columns: columnsToDisplay;"></tr>
    </table>
    <mat-paginator #paginator [length]="totalRecords" [pageSize]="indexModel.PageSize"
      [pageSizeOptions]="[5, 10, 20,totalRecords]" (page)="onPaginateChange($event)" showFirstLastButtons>
    </mat-paginator>
  </div>
</div>