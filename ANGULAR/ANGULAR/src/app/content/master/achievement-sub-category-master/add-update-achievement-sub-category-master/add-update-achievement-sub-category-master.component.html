<div class="modal-header">
  <p>General Entry Sub Category</p>
  <button mat-button (click)="onNoClick()">
    <mat-icon>close</mat-icon>
  </button>

</div>

<form [formGroup]="fromGroup" (ngSubmit)="SaveClick();">
  <div class="col l12 s12 ">
    <!-- <alert></alert> -->
    <div class="col l6 xl6 m6 s12">
      <mat-form-field class="example-full-width" appearance="outline">
        <mat-label>Department</mat-label>
        <mat-select name="DepartmentCode" [(ngModel)]="model.DepartmentCode" #DepartmentCode
          formControlName="DepartmentCode" (selectionChange)="getKPIList($event.value)">
          <mat-option>--Select--</mat-option>
          <mat-option value="{{k.DepartmentCode}}" *ngFor="let k of ddlDepartment">{{k.DepartmentTitle}}</mat-option>
        </mat-select>
      </mat-form-field>
      <mat-error *ngIf=" this.fromGroup.get('DepartmentCode').hasError('required') &&
            (this.fromGroup.get('DepartmentCode').touched && this.fromGroup.get('DepartmentCode').invalid) ">
        Department is <strong>required!</strong>
      </mat-error>
    </div>
    <div class="col l6 xl6 m6 s12">
      <mat-form-field class="example-full-width" appearance="outline">
        <mat-label>KPI Category<span style="color: red">*</span> </mat-label>
        <mat-select  [(ngModel)]="model.KPICategoryCode" #KPICategoryCode formControlName="KPICategoryCode">
          <mat-option value="{{ k.Value }}" *ngFor="let k of ddlKPICategory">{{ k.Text }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <div class=" col l6 xl6 m6 s12">
      <mat-form-field class="example-full-width" appearance="outline">
        <mat-label>Category</mat-label>
        <mat-select name="lookupTypeId" [(ngModel)]="model.CategoryCode" #CategoryCode formControlName="CategoryCode">
          <mat-option>--Select--</mat-option>
          <mat-option value="{{k.Value}}" *ngFor="let k of dDLList?.ddlAchievementCategory">{{k.Text}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-error
        *ngIf="this.fromGroup.get('CategoryCode').hasError('required') && (this.fromGroup.get('CategoryCode').touched && this.fromGroup.get('CategoryCode').invalid) ">
        Category is <strong>required!</strong>
      </mat-error>
    </div>

    <div class="col l6 xl6 m6 s12">
      <mat-form-field class="example-full-width" appearance="outline">
        <mat-label>General Entry Sub Category (Eng)</mat-label>
        <input matInput placeholder="General Entry Sub Category (Eng)" name="Title" [(ngModel)]="model.Title" #Title
          maxlength="50" formControlName="Title">
      </mat-form-field>
      <mat-error
        *ngIf="this.fromGroup.get('Title').hasError('required') && (this.fromGroup.get('Title').touched && this.fromGroup.get('Title').invalid) ">
        General Entry Sub Category (Eng) is <strong>required!</strong>
      </mat-error>
    </div>

    <div class="col l6 xl6 m6 s12">
      <mat-form-field class="example-full-width" appearance="outline">
        <mat-label>General Entry Sub Category (Hindi) </mat-label>
        <input matInput placeholder="General Entry Sub Category (Hindi)" name="TitleHindi" [(ngModel)]="model.TitleHindi"
          #TitleHindi maxlength="50" formControlName="TitleHindi">
      </mat-form-field>
      <mat-error
        *ngIf="this.fromGroup.get('TitleHindi').hasError('required') && (this.fromGroup.get('TitleHindi').touched && this.fromGroup.get('TitleHindi').invalid) ">
        General Entry Sub Category (Hindi) is <strong>required!</strong>
      </mat-error>
    </div>

    <div class="col l12 m12 s12  mb-20">
      <div class="upload-btn-wrapper example-full-width">
        <label>Attach Images</label>
        <input type="file" id="ImagePath" (change)="handleFileInput($event)" accept="image/*">

      </div>
      <ul class="image-list">
        <li *ngIf="model!=undefined && model.ImagePath!=undefined && model.ImagePath.length>0">

          <div> <img [src]="model.ImagePath" /> <a title="Remove" (click)="RemoveImageFile()">
              <mat-icon>delete</mat-icon>
            </a></div>

        </li>
      </ul>

      <mat-error *ngIf="ImagefileValidationMsg?.length>0" style="margin: 0px;position: relative;">
        {{ImagefileValidationMsg}}
      </mat-error>
    </div>

    <div class="col l6 xl6 m6 s12">
      <section class="example-full-width" appearance="outline">
        <mat-label>Applicable to All Department </mat-label>
        <mat-checkbox [(ngModel)]="model.IsApplicableToAllDPT" formControlName="IsApplicableToAllDPT" #IsApplicableToAllDPT >
        </mat-checkbox>
      </section>
    </div>


    <div class="col l12 x8 m4 s12 ">
      <button mat-button class="btn-submit">Submit</button>
    </div>
  </div>
</form>
