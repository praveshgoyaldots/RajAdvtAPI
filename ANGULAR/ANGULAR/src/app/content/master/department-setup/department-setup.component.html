<app-global-list-search [SearchFields]="ViewdisplayedColumns" (onSearch)="SearchByKeyword($event)">
    </app-global-list-search>
    <div class="row">
      <div class="col l12 s12">

        <table mat-table [dataSource]="dataSource" matSort (matSortChange)="SortData($event)" class="mat-elevation-z8">
          <ng-container matColumnDef="index">
            <th mat-header-cell *matHeaderCellDef>#</th>
            <td mat-cell *matCellDef="let element; let i = index">
              {{ (indexModel.Page - 1) * indexModel.PageSize + (i + 1) }}
            </td>
          </ng-container>

          <ng-container [matColumnDef]="column.Value" *ngFor="let column of ViewdisplayedColumns">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
              {{ column.Text }}
            </th>
            <td mat-cell *matCellDef="let element">{{ element[column.Value] }}</td>
          </ng-container>


          <ng-container matColumnDef="IsActive">
            <th mat-header-cell *matHeaderCellDef> Active Status </th>
            <td mat-cell *matCellDef="let element" class="action-link toogle-btn">
              <a *ngIf="this.Permission.UpdatePageAccess" (click)="OnActiveStatus(element.Id)"
                title="Update Active Status">
                <mat-icon *ngIf="element.IsActive" style="cursor:pointer;color: #74cb74;">toggle_on</mat-icon>
                <mat-icon *ngIf="!element.IsActive" style="cursor:pointer;color: #ff7373;">toggle_off</mat-icon>
              </a>
              <a *ngIf="!this.Permission.UpdatePageAccess" title="Active Status">
                <mat-icon *ngIf="element.IsActive" style="cursor:pointer;color: #74cb74;">toggle_on</mat-icon>
                <mat-icon *ngIf="!element.IsActive" style="cursor:pointer;color: #ff7373;">toggle_off</mat-icon>
              </a>
            </td>
          </ng-container>

          <ng-container matColumnDef="Action">
            <th mat-header-cell *matHeaderCellDef>Action</th>
            <td mat-cell *matCellDef="let element" class="action-link">
              <a  routerLink="/master/departmentsetupadd/{{ element.Id }}" title="Edit"
                class="btn_list" *ngIf="this.Permission.UpdatePageAccess">
                <mat-icon>edit</mat-icon>
              </a>

            </td>
          </ng-container>
          <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
          <tr mat-row *matRowDef="let row; columns: columnsToDisplay"></tr>
        </table>
        <mat-paginator #paginator [length]="totalRecords" [pageSize]="indexModel.PageSize"
          [pageSizeOptions]="[5, 10, 20, 50]" (page)="onPaginateChange($event)" showFirstLastButtons> </mat-paginator>
      </div>
    </div>
