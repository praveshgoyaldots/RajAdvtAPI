<div class="row">
  <div class="col l2 xl4 m6 s12">
    <mat-form-field class="example-full-width" appearance="outline">
      <mat-label>Document Name<span style="color: red">*</span>
      </mat-label>
      <input matInput placeholder="Document Name" name="DocumentName" [formControl]="DocumentName"
        [(ngModel)]="model.DocumentName" id="DocumentName">
    </mat-form-field>
    <mat-error *ngIf="DocumentName.invalid && DocumentName.touched">
      Document Name is <strong>required</strong>
    </mat-error>
  </div>
  <div class="col l2 xl4 m6 s12">
    <mat-form-field appearance="outline">
      <mat-label>Module Name <span style="color: red">*</span> </mat-label>
      <mat-select name="typeCode" id="typeCode" [(ngModel)]="model.TypeCode" [formControl]="typeCode">

        <mat-option value="{{item.Value}}" *ngFor="let item of dDLList?.ddlHelpDocType">{{item.Text}} </mat-option>
      </mat-select>
    </mat-form-field>
    <mat-error *ngIf="typeCode.invalid && typeCode.touched">
      Module Name is <strong>required</strong>
    </mat-error>
  </div>

  <div class="col l2 xl4 m6 s12">
    <mat-form-field class="example-full-width" appearance="outline">
      <mat-label>Display Order
      </mat-label>
      <input matInput placeholder="Display Order" name="DisplayOrder" [formControl]="DisplayOrder" type="number"
        [(ngModel)]="model.DisplayOrder" id="DisplayOrder">
    </mat-form-field>
    <!-- <mat-error *ngIf="DisplayOrder.invalid && DisplayOrder.touched">
        Display Order<strong>required</strong>
      </mat-error> -->
  </div>

  <div class="col l4 xl4 m6 s12">
    <div class="upload-btn-wrapper">
      <label>Upload Document<span style="color: red" *ngIf="model.Id==0">*</span></label>
      <input type="file" id="file" [formControl]="file" (change)="handleFileInput($event)" accept="application/pdf">


    </div>
    <mat-error *ngIf="file.invalid && file.touched">
      Upload Document is <strong>required</strong>
    </mat-error>
    <mat-error *ngIf="fileValidationMsg?.length>0"
      style="margin: 0px;position: relative;">{{fileValidationMsg}}</mat-error>
    <ul class="image-list" *ngIf="model.Url">
      <li>
        <a (click)="downloadPdf(model.Url)" href="JavaScript:Void(0);">
          Click to download
        </a>
        <a title="Remove" class="rem-btn" (click)="RemoveLogo(false);">
          <mat-icon *ngIf="model?.Url?.length>0">delete</mat-icon></a>
      </li>


    </ul>
  </div>

  <div class="col l4 xl4 m6 s12">
    <div class="upload-btn-wrapper">
      <label>Upload blank Document</label>
      <input type="file" id="file" [formControl]="blankfile" (change)="handleBlankFileInput($event)"
        accept="application/pdf">


    </div>
    <!-- <mat-error *ngIf="blankfile.invalid && blankfile.touched">
                  Upload Document  is <strong>required</strong>
                </mat-error> -->
    <mat-error *ngIf="fileValidationblankMsg?.length>0"
      style="margin: 0px;position: relative;">{{fileValidationblankMsg}}</mat-error>
    <ul class="image-list" *ngIf="model.BlankDocUrl">
      <li>
        <a (click)="downloadPdf(model.BlankDocUrl)" href="JavaScript:Void(0);">
          Click to download
        </a>

        <a title="Remove" class="rem-btn" (click)="RemoveLogo();">
          <mat-icon *ngIf="model?.BlankDocUrl?.length>0">delete</mat-icon></a>

      </li>
    </ul>
  </div>

  <div class="col l2 xl2 m6 s12 " *ngIf="this.Permission.UpdatePageAccess|| this.Permission.AddPageAccess">
    <button mat-button class="btn-submit" (click)="saveClick()">
      <span *ngIf="model.Id==0">Submit</span>
      <span *ngIf="model.Id>0">Update</span>
    </button>
  </div>
</div>

<div class="row">
  <div class="col l12 s12 ">
    <table mat-table [dataSource]="dataSource" matSort (matSortChange)="SortData($event)"
      class="mat-elevation-z8 table_border">

      <ng-container matColumnDef="index">
        <th mat-header-cell *matHeaderCellDef>Sr No</th>
        <td mat-cell *matCellDef="let element; let i = index;"> {{(indexModel.Page-1)*indexModel.PageSize +(i+1)}}</td>
      </ng-container>
      <ng-container matColumnDef="DocumentName">
        <th mat-header-cell *matHeaderCellDef> Document Name</th>
        <td mat-cell *matCellDef="let group" class="action-link toogle-btn">
          {{ group.DocumentName }}
        </td>
      </ng-container>
      <ng-container matColumnDef="TypeName">
        <th mat-header-cell *matHeaderCellDef> Type Name </th>
        <td mat-cell *matCellDef="let group" class="action-link toogle-btn">
          {{ group.TypeName }}
        </td>
      </ng-container>
     

      <ng-container matColumnDef="DisplayOrder">
        <th mat-header-cell *matHeaderCellDef> Display Order</th>
        <td mat-cell *matCellDef="let group" class="action-link toogle-btn">
          {{ group.DisplayOrder }}
        </td>
      </ng-container>

      <ng-container matColumnDef="Url">
        <th mat-header-cell *matHeaderCellDef> Url </th>
        <td mat-cell *matCellDef="let group" class="action-link toogle-btn">
          <div *ngIf="group.Url">
            <a target="_blank" href="{{getAbsalutePath(group.Url)}}">
              Click to download
            </a>
          </div>
          <span *ngIf="!group.Url">--</span>
        </td>
      </ng-container>

      <ng-container matColumnDef="BlankDocUrl">
        <th mat-header-cell *matHeaderCellDef>Blank Document </th>
        <td mat-cell *matCellDef="let group" class="action-link toogle-btn">
          <div *ngIf="group.BlankDocUrl">
            <a target="_blank" href="{{getAbsalutePath(group.BlankDocUrl)}}">
              Click to download
            </a>
          </div>
          <span *ngIf="!group.BlankDocUrl">--</span>
        </td>
      </ng-container>

      <ng-container matColumnDef="ModifiedDate">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Last Update Date / Last Update BY</th>
        <td mat-cell *matCellDef="let group" class="action-link toogle-btn">
          {{ group.ModifiedDate !=null ? (group.ModifiedDate| date: 'dd/MM/yyyy') :'--' }} <span
            *ngIf="group.modifiedByName" style="color: #2922a2; font-weight: bold;">/ {{ group.modifiedByName }}</span>
        </td>
      </ng-container>

      <ng-container matColumnDef="Action">
        <th width="130" mat-header-cell *matHeaderCellDef> Action </th>
        <td mat-cell *matCellDef="let group" class="action-link-btn">
          <a class="btn_edit" (click)="getByID(group.Id)" title="edit"
            *ngIf="this.Permission.UpdatePageAccess"><mat-icon>edit</mat-icon></a>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
      <tr mat-row *matRowDef="let row; columns: columnsToDisplay;"></tr>
    </table>
    <mat-paginator #paginator [length]="totalRecords" [pageSize]="indexModel.PageSize"
      [pageSizeOptions]="[5,10, 20, 50]" (page)="onPaginateChange($event)" showFirstLastButtons>
    </mat-paginator>
  </div>
</div>