<div class="row">
	<div class="col l12 s12 p-0">
		<div class="row m-20 mb-0">
			<div class="col l4 xl4 m6 s12">
				<mat-form-field class="example-full-width" appearance="outline">
					<mat-label>From Date</mat-label>
					<input matInput [matDatepicker]="picker2" (focus)="picker2.open()" readonly placeholder="Date" [(ngModel)]="filterModel.FromDate" [max]="filterModel.ToDate">
					<mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
					<mat-datepicker #picker2></mat-datepicker>
				</mat-form-field>
			</div>
			<div class="col l4 xl4 m6 s12">
				<mat-form-field class="example-full-width" appearance="outline">
					<mat-label>To Date</mat-label>
					<input matInput [matDatepicker]="picker1" (focus)="picker1.open()" readonly placeholder="Date" [(ngModel)]="filterModel.ToDate" [min]="filterModel.FromDate">
					<mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
					<mat-datepicker #picker1></mat-datepicker>
				</mat-form-field>
      </div>
      <div class="col l4 xl4 m6 s12">
          <mat-form-field class="example-full-width" appearance="outline">
            <mat-label>CMO Officer</mat-label>
            <mat-select  [(ngModel)]="filterModel.CMOOfficerCode" (selectionChange)="getDepartmentByadmDepartment(filterModel.AdmDepartmentCode,$event.value)">
              <mat-option value="0">--Select--</mat-option>
              <mat-option value="{{ k.Value }}" *ngFor="let k of dDLList?.ddlCMOOfficers">{{ k.Text }}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div class="col l4 xl4 m6 s12">
          <mat-form-field class="example-full-width" appearance="outline">
            <mat-label>Admin Department</mat-label>
            <mat-select [(ngModel)]="filterModel.AdmDepartmentCode" (selectionChange)="getDepartmentByadmDepartment($event.value,filterModel.CMOOfficerCode)">
              <mat-option value="{{ k.Value }}" *ngFor="let k of dDLList?.ddlUserAdminDepartment">{{ k.Text }}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
			<div class="col l4 xl4 m6 s12">
				<mat-form-field class="example-full-width" appearance="outline">
					<mat-label>Nodal Department</mat-label>
					<mat-select [(ngModel)]="filterModel.NodalDepartmentCode" (selectionChange)="GetProjectSchemeCategoryByDepartment($event.value)">
						<mat-option value="{{ k.Value }}" *ngFor="let k of ddlDepartment">{{k.Text}}</mat-option>
					</mat-select>
				</mat-form-field>
			</div>
			<div class="col l4 m6 s12">
				<mat-form-field class="example-full-width" appearance="outline">
					<mat-label> Project/Scheme/Program Name(By Department)</mat-label>
					<mat-select [(ngModel)]="filterModel.ProjectSchemeCode" multiple>
						<mat-option value="{{ k.Code }}" *ngFor="let k of ddlProjectSchemeCategory">{{ k.ProgramSchemeName }}/({{k.ProgramSchemeTypeName}}) </mat-option>
					</mat-select>
				</mat-form-field>
			</div>
			<div class="col l4 xl4 m6 s12">
				<mat-form-field class="example-full-width" appearance="outline">
					<mat-label>District</mat-label>
					<mat-select [(ngModel)]="filterModel.DistrictCode" (selectionChange)="getMLAByDisctrictCode($event.value)" multiple>
						<!-- <mat-option value="{{ k.Value }}" *ngFor="let k of dDLList?.ddlDistrict">{{k.Text}}</mat-option> -->
            <mat-option value="{{k.Value}}" *ngFor="let k of  ddlDistrict">{{k.Text}}</mat-option>
					</mat-select>
				</mat-form-field>
			</div>
			<div class="col l4 xl4 m6 s12">
				<mat-form-field class="example-full-width" appearance="outline">
					<mat-label>MLA Constituency</mat-label>
					<mat-select [(ngModel)]="filterModel.MLACode" multiple>
						<mat-option value="{{ k.Value }}" *ngFor="let k of ddlMLAConstituency">{{k.Text}}</mat-option>
					</mat-select>
				</mat-form-field>
			</div>
			<div class="col l4 xl4 m6 s12">
				<mat-form-field class="example-full-width" appearance="outline">
					<mat-label>Category</mat-label>
					<mat-select [(ngModel)]="filterModel.CategoryCode">
						<mat-option value="{{ k.Value }}" *ngFor="let k of dDLList?.ddlProjectCategory">{{k.Text}}</mat-option>
					</mat-select>
				</mat-form-field>
			</div>
			<div class="col l4 m6 s12">
				<mat-form-field class="example-full-width" appearance="outline">
					<mat-label>Sub Category </mat-label>
					<mat-select [(ngModel)]="filterModel.SubCategoryCode">
						<mat-option value="{{item.Value}}" *ngFor="let item of dDLList?.ddlProjectSubCategory">{{item.Text}} </mat-option>
					</mat-select>
				</mat-form-field>
			</div>
			<div class="col l4 m6 s12">
				<mat-form-field class="example-full-width" appearance="outline">
					<mat-label> Work Type </mat-label>
					<mat-select [(ngModel)]="filterModel.SubSubCategoryCode">
						<mat-option [value]="0">Non(Work Type not available)</mat-option>
						<mat-option [value]="-1">All(Available + Not Available)</mat-option>
						<mat-option value="{{item.Value}}" *ngFor="let item of dDLList?.ddlProjectSubSubCategory">{{item.Text}} </mat-option>
					</mat-select>
				</mat-form-field>
			</div>
			<div class="col l4 m6 s12">
				<mat-form-field class="example-full-width" appearance="outline">
					<mat-label> Works Entry Status</mat-label>
					<mat-select [(ngModel)]="filterModel.ProjectStatusCode">
						<mat-option value="{{item.Value}}" *ngFor="let item of dDLList?.ddlProjectStatus">{{item.Text}} </mat-option>
					</mat-select>
				</mat-form-field>
			</div>
			<div class="col l4 xl3 m4 s12">
				<mat-label class="d-block mb-10 text-blue font-w-600">Get Active De-Active Data</mat-label>
				<mat-radio-group class="radio_grp" aria-label="Select an option" [(ngModel)]="filterModel.Status">
					<mat-radio-button [value]="1" (change)="getActiveDeActiveData(1)" [checked]="filterModel.Status==1">Active </mat-radio-button>
					<mat-radio-button [value]="0" (change)="getActiveDeActiveData(0)">De-Active</mat-radio-button>
					<mat-radio-button [value]="-1" (change)="getActiveDeActiveData(-1)">Both</mat-radio-button>
				</mat-radio-group>
			</div>
			<div class="col l4 xl3 m4 s12">
				<mat-label class="d-block mb-10 text-blue font-w-600">Get Attachments</mat-label>
				<mat-radio-group class="radio_grp" aria-label="Select an option" [(ngModel)]="filterModel.IsAllAttachment">
					<mat-radio-button [value]="1" (change)="getActiveDeActiveData(1,true)">With Attachment </mat-radio-button>
					<mat-radio-button [value]="0" (change)="getActiveDeActiveData(0,true)" [checked]="filterModel.IsAllAttachment==0">Without Attachment</mat-radio-button>
					<mat-radio-button [value]="-1" (change)="getActiveDeActiveData(-1,true)">All</mat-radio-button>
				</mat-radio-group>
      </div>

      <div class="col l4 xl3 m4 s12">
        <mat-label class="d-block mb-10 text-blue font-w-600">Shilanyas</mat-label>
        <mat-radio-group class="radio_grp" aria-label="Select an option" [(ngModel)]="isShilanyas">
          <mat-radio-button [value]="0" (change)="setShilanyas($event.value)" >Non(Shilanyas)</mat-radio-button>
          <mat-radio-button [value]="1" (change)="setShilanyas($event.value)">Shilanyas</mat-radio-button>
          <mat-radio-button [value]="-1" (change)="setShilanyas($event.value)">All</mat-radio-button>
        </mat-radio-group>
      </div>
      <div class="col l4 m6 s12 ">
        <section class="example-full-width  checkbox-bx-custom checkbox-bx-custom-with-label mb-10" appearance="outline">
          <mat-checkbox [(ngModel)]="filterModel.IsShowDataWithProgress" #IsShowDataWithProgress> Is Show Data With Progress</mat-checkbox>
        </section>
      </div>

			<div class="col l12 m12 s12 text-center mb-20">
				<button (click)="searchClick();" class="btn btn_note btn_green" style="margin-right: 10px;">Search</button>
				<button (click)="clearClick();" class="btn btn_note btn_orange" style="margin-right: 10px;">Clear Search</button>
				<button (click)="ExportToExcel()" mat-button class="btn-submit mat-button float-right">Export to Excel
					<mat-icon>report</mat-icon>
				</button>
			</div>
		</div>
		<table mat-table [dataSource]="dataSource" matSort (matSortChange)="SortData($event)" class="mat-elevation-z8">
			<ng-container matColumnDef="index">
				<th mat-header-cell *matHeaderCellDef>S. No
					<br> Pdf/Images </th>
				<td mat-cell *matCellDef="let element; let i = index" title={{i+1}}> {{ (i + 1) }}
					<br>
					<!-- <ul>
						<li *ngFor="let url of element.PDFURLs; let i = index;"> <a *ngIf="url.Extension?.toLowerCase()=='pdf'" (click)="downloadAttachment(url?.Url)" href="JavaScript:Void(0);">
                      Show More Details
                  </a>
							<a *ngIf="url.Extension?.toLowerCase()!='pdf'" (click)="downloadAttachment(url?.Url)" href="JavaScript:Void(0);"> <img [src]="url?.Url" style="height: 100px; width: 100px;" /> </a>
						</li>
          </ul> -->
					<div *ngIf="element.PDFURLs"> <a *ngIf="element.PDFURLs?.split('.')[1]=='pdf'" target="_blank" href="{{getAbsalutePath(element.PDFURLs)}}">
              Show More Details
          </a>
						<a *ngIf="element.PDFURLs?.split('.')[1]!='pdf'" target="_blank" href="{{getAbsalutePath(element.PDFURLs)}}"> <img [src]="getAbsalutePath(element.PDFURLs)" style="height: 100px; width: 100px;" /> </a>
					</div>
				</td>
			</ng-container>
			<ng-container matColumnDef="ProjectSchemeName">
				<th mat-header-cell *matHeaderCellDef>
					<table class="table-in-data-head">
						<tbody>
							<tr>
								<td>Project/Scheme Name</td>
							</tr>
							<tr>
								<td>Department</td>
              </tr>
							<tr>
								<td>District Count</td>
              </tr>
              	<tr>
								<td>Area Covered</td>
							</tr>
						</tbody>
					</table>
				</th>
				<td mat-cell *matCellDef="let element">
					<table class="table-in-data">
						<tbody>
							<tr>
								<td title={{element.ProjectSchemeName}}> {{ element.ProjectSchemeName }}</td>
							</tr>
							<tr >
								<td title={{element.DepartmentTitle}}>{{element.DepartmentTitle}}</td>
              </tr>
							<tr >
								<td title={{element.DistrictCount}}>{{element.DistrictCount}}</td>
              </tr>
              <tr >
								<td title={{element.AreaCovered}}>{{element.AreaCovered}}</td>
							</tr>
						</tbody>
					</table>

				</td>
			</ng-container>
			<ng-container matColumnDef="ProjectSchemeDescription">
				<th mat-header-cell *matHeaderCellDef>
					<table class="table-in-data-head">
						<tbody>
							<tr>
								<td>Project/Scheme, Description </td>
							</tr>
							<tr>
								<td> Category</td>
							</tr>
							<tr>
								<td>Sub Category</td>
							</tr>
							<tr>
								<td>Work Type</td>
							</tr>
							<tr>
								<td>Status</td>
							</tr>
						</tbody>
					</table>
				</th>
				<td mat-cell *matCellDef="let element">
					<!-- <br>
            <span *ngIf="element.CategoryName" style="color: #2922a2; font-weight: bold;">/{{element.CategoryName}}</span>
            <br>
            <span *ngIf="element.SubCategoryName" style="color: #70116b; font-weight: bold;">/{{element.SubCategoryName}}</span>
            <br>
            <span *ngIf="element.SubSubCategoryName" style="color: #666d09; font-weight: bold;">/{{element.SubSubCategoryName}}</span>
            <br>
            <span *ngIf="element.StatusName" style="color: #0d4115; font-weight: bold;">/{{element.StatusName}}</span> -->
					<table class="table-in-data">
						<tbody>
							<tr>
								<td title={{element.ProjectSchemeDescription}}>{{ element.ProjectSchemeDescription }}</td>
							</tr>
							<tr >
								<td title={{element.CategoryName}}>{{element.CategoryName}} </td>
							</tr>
							<tr >
								<td title={{element.SubCategoryName}}>{{element.SubCategoryName}}</td>
							</tr>
							<tr >
								<td title={{element.SubSubCategoryName}}>{{element.SubSubCategoryName}}</td>
							</tr>
							<tr >
								<td title={{element.StatusName}}>{{element.StatusName}}</td>
							</tr>
						</tbody>
					</table>
				</td>
			</ng-container>
			<ng-container matColumnDef="ModifiedDate">
				<th mat-header-cell *matHeaderCellDef mat-sort-header>
					<table class="table-in-data-head">
						<tbody>
							<tr>
								<td>Last Modified Date</td>
							</tr>
							<tr>
								<td>Created By</td>
							</tr>
							<tr>
								<td>Created Date</td>
							</tr>
						</tbody>
					</table>
					<!-- Last Modified Date/Created By/Created Date -->
				</th>
				<td mat-cell *matCellDef="let element" class="action-link toogle-btn">
					<table class="table-in-data">
						<tbody>
							<tr>
								<td title={{element.ModifiedDate}}>{{ element.ModifiedDate !=null ? (element.ModifiedDate| date: 'dd/MM/yyy , h:mm:ss a') :'--' }}</td>
							</tr>
							<tr >
								<td title={{element.createdByName}}>{{element.createdByName}}</td>
							</tr>
							<tr>
								<td title={{element.CreatedDate}}>{{ element.CreatedDate| date: 'dd/MM/yyy , h:mm:ss a'}}</td>
							</tr>
						</tbody>
					</table>
					<!--
          {{ element.ModifiedDate !=null ? (element.ModifiedDate| date: 'dd/MM/yyy , h:mm:ss a') :'--' }}
					<br> <span *ngIf="element.createdByName" style="color: #2922a2; font-weight: bold;">/{{element.createdByName}}</span>
          <br> <span *ngIf="element.CreatedDate" style="color: #0d4115; font-weight: bold;">/{{ element.CreatedDate| date: 'dd/MM/yyy , h:mm:ss a'}}</span> -->
				</td>
			</ng-container>
			<ng-container matColumnDef="KeyIndicator">
				<th mat-header-cell *matHeaderCellDef>
					<table class="table-in-data-head">
						<tbody>
							<tr>
								<td>MLA Constituency</td>
							</tr>
							<tr>
								<td>Description</td>
							</tr>
							<tr>
								<td>District</td>
							</tr>
							<tr>
								<td>Works Entry Details</td>
							</tr>
						</tbody>
					</table>
				</th>
				<td mat-cell *matCellDef="let element">
					<table class="table-in-data">
						<tbody>
							<tr>
								<td >{{ element.MLAConstituencyName }}</td>
							</tr>
							<tr >
								<td>{{element.ChildDescription}}</td>
							</tr>
							<tr>
								<td>{{element.DistrictNames}}</td>
							</tr>
							<tr >
								<td>{{element.SubCatLabelName}} --> {{element.ChildLabelName}}</td>
							</tr>
						</tbody>
					</table>
					<!--
          {{ element.MLAConstituencyName }}
					<br> <span *ngIf="element.ChildDescription" title={{element.ChildDescription}}>/{{element.ChildDescription}}</span> -->
					<!-- <span *ngIf="element.MLAConstituencyName && element.MPConstituencyName"> {{ element.MLAConstituencyName }}/{{element.MPConstituencyName}}</span>
            <span *ngIf="element.MLAConstituencyName || element.MPConstituencyName"> {{ element.MLAConstituencyName }}{{element.MPConstituencyName}}</span> --></td>
      </ng-container>


      <ng-container matColumnDef="UrbanRural">
				<th mat-header-cell *matHeaderCellDef>
					<table class="table-in-data-head">
						<tbody>
							<tr>
								<td>Urban Or Rural</td>
							</tr>
							<tr>
								<td>Ward No</td>
							</tr>

							<tr>
								<td>PS Names</td>
              </tr>
              <tr>
								<td>Gram Panchayat</td>
              </tr>
              <tr>
								<td>Villages</td>
							</tr>
						</tbody>
					</table>
				</th>
				<td mat-cell *matCellDef="let element">
					<table class="table-in-data">
						<tbody>
							<tr>
								<td title={{element.UrbanOrRuralName}}>{{ element.UrbanOrRuralName }}</td>
							</tr>
							<tr  title={{element.WardNo}}>
								<td>{{element.WardNo}}</td>
							</tr>
							<tr  title={{element.Block_PSNames}}>
								<td>{{element.Block_PSNames}}</td>
							</tr>
							<tr  title="{{element.GramPanchayatNames}}">
								<td>{{element.GramPanchayatNames}}</td>
              </tr>
              <tr  title="{{element.VillageNames}}">
								<td>{{element.VillageNames}}</td>
							</tr>
						</tbody>
					</table>
			</ng-container>

			<ng-container matColumnDef="TotalCost">
				<th mat-header-cell *matHeaderCellDef>Total Cost</th>
				<td mat-cell *matCellDef="let element" title={{element.Cost}}> {{ element.Cost }} </td>
			</ng-container>


      <ng-container matColumnDef="Action">
        <th mat-header-cell *matHeaderCellDef>Action</th>
        <td mat-cell *matCellDef="let element" class="action-link">

            <a  (click)="DownloadJsonFile(element)" title="Down Json Format"  download="download.json">
              <mat-icon>download</mat-icon>
            </a>
            <a
            routerLink="/master/projectmasterdetail/{{ element.Id }}" title="Detail" class="btn_edit">
            <mat-icon>visibility</mat-icon>
          </a>
        </td>
      </ng-container>


			<tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
			<tr mat-row *matRowDef="let row; columns: columnsToDisplay"></tr>


		</table>



	</div>
</div>
