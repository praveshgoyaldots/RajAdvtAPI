<!-- <app-global-list-search [SearchFields]="ViewdisplayedColumns" (onSearch)="SearchByKeyword($event)">
</app-global-list-search> -->




<div class="row m-0">

  <div class="col l6 xl6 m6 s6" style="display: none;">
    <mat-form-field class="example-full-width" appearance="outline">
      <input matInput placeholder="Search" [(ngModel)]="searchModel.SearchField" />
    </mat-form-field>
  </div>
  <div class="col l6 xl6 m6 s6">
    <mat-form-field class="example-full-width" appearance="outline">
      <input matInput placeholder="Keyword" [(ngModel)]="searchModel.KeyWord" />
    </mat-form-field>
  </div>
  <div class="col l6 xl6 m6 s6">
    <mat-form-field class="example-full-width" appearance="outline">
      <input matInput placeholder="Auto Keyword" [(ngModel)]="searchModel.AutoKeyWord" />
    </mat-form-field>
  </div>

</div>
<div class="row">
  <div class="col l12 xl12 m12 s12 ">
    <a (click)="toggleDisplay()" class="btn-ad-search">{{!isShow?'Hide Advance Search   ':"Show Advance Search"}}
      <mat-icon>
        {{!isShow?'keyboard_arrow_up  ':"keyboard_arrow_down"}}
      </mat-icon>

    </a>

  </div>
  <br />

</div>
<div class="row" *ngIf="!isShow">

  <div class="col l6 xl6 m6 s6">
    <mat-form-field class="example-full-width" appearance="outline">
      <mat-label>Department</mat-label>
      <mat-select name="DepartmentCode" [(ngModel)]="searchModel.DepartmentCode">
        <mat-option>--Select--</mat-option>
        <mat-option value="{{k.DepartmentCode}}" *ngFor="let k of  ddlDepartment">{{k.DepartmentTitle}}</mat-option>
      </mat-select>
    </mat-form-field>

  </div>

  <div class="col l6 xl6 m6 s6">
    <!-- <mat-form-field class="example-full-width" appearance="outline">
      <mat-label>Category <span style="color: red">*</span></mat-label>
      <mat-select name="AchievementCategoryCode" [(ngModel)]="searchModel.AchievementCategoryCode"
        formControlName="AchievementCategoryCode"
        (selectionChange)="checkUploadImages();getFilterdDDL(searchModel.DepartmentCode,searchModel.AchievementCategoryCode);">
        <mat-option>--Select--</mat-option>
        <mat-option value="{{k.Value}}" *ngFor="let k of dDLList?.ddlImpCategory">{{k.Text}}</mat-option>
      </mat-select>
    </mat-form-field> -->
    <mat-form-field class="example-full-width" appearance="outline">
      <mat-label>Category </mat-label>
      <mat-select name="AchievementCategoryCode" [(ngModel)]="searchModel.CategortyCode"
        (selectionChange)=" getFilterdDDL(searchModel.DepartmentCode,searchModel.CategortyCode);">
        <mat-option>--Select--</mat-option>
        <mat-option value="{{k.Value}}" *ngFor="let k of dDLList?.ddlImpCategory">{{k.Text}}</mat-option>
      </mat-select>
    </mat-form-field>
  </div>

  <div class="col l6 xl6 m6 s6">
    <mat-form-field class="example-full-width" appearance="outline">
      <mat-label>Sub Category</mat-label>
      <mat-select name="SubCategortyCode" [(ngModel)]="searchModel.SubCategortyCode">
        <mat-option>--Select--</mat-option>
        <mat-option value="{{k.Value}}" *ngFor="let k of dDLList?.ddlImportantDecisionSubCategory">
          {{k.Text}}</mat-option>
      </mat-select>
    </mat-form-field>

  </div>
  <div class="col l6 xl6 m6 s6">
    <mat-form-field class="example-full-width" appearance="outline">
      <mat-label>User</mat-label>
      <mat-select name="Userby" [(ngModel)]="searchModel.Userby">
        <mat-option>--Select--</mat-option>
        <mat-option value="{{k.Value}}" *ngFor="let k of dDLList?.ddluserlist">
          {{k.Text}}</mat-option>
      </mat-select>
    </mat-form-field>

  </div>
  <div class="col l6 xl6 m6 s6">
    <mat-form-field class="example-full-width" appearance="outline">
      <mat-label>From Date</mat-label>
      <input matInput [matDatepicker]="picker1" (focus)="picker1.open()" readonly placeholder="From Date"
        [(ngModel)]="fromDate" [max]="toDate">
      <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
      <mat-datepicker #picker1></mat-datepicker>
    </mat-form-field>
  </div>
  <div class="col l6 xl6 m6 s6">
    <mat-form-field class="example-full-width" appearance="outline">
      <mat-label>To Date</mat-label>
      <input matInput [matDatepicker]="picker2" (focus)="picker2.open()" readonly placeholder="To Date"
        [(ngModel)]="toDate" [min]="fromDate">
      <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
      <mat-datepicker #picker2></mat-datepicker>
    </mat-form-field>
  </div>

  <div class="col l6 xl6 m6 s6">
    <mat-form-field class="example-full-width" appearance="outline">
      <mat-label>Active/De-Active</mat-label>
      <mat-select name="Activeview" [(ngModel)]="searchModel.Activeview">
        <mat-option>--Select--</mat-option>
        <mat-option value="true">Active</mat-option>
        <mat-option value="false">DeActive</mat-option>

      </mat-select>
    </mat-form-field>

  </div>
  <div class="col l6 xl6 m6 s6">
    <mat-form-field class="example-full-width" appearance="outline">
      <input matInput placeholder="CMO Comments" [(ngModel)]="searchModel.CMOComments" />
    </mat-form-field>
  </div>
</div>
<div class="row">
  <div class="col l12 x12 m12 s12 text-left clearfix">
    <button (click)="getList()" mat-button class="btn-submit">Search</button>
    &nbsp;
    <button (click)="print()" mat-button class="btn-submit">Print Report</button>
    &nbsp;
    <button (click)="Reset()" mat-button class="btn-submit btn_orange mat-button">Reset<mat-icon>refresh</mat-icon>
    </button>
  </div>
</div>



<div class="row">

  <div class="col l12 s12 p-0">

    <mat-toolbar color="primary" *ngIf="totalRecords==0">No Record...!</mat-toolbar>
    <table mat-table [dataSource]="dataSource" matSort (matSortChange)="sortData($event)" class="mat-elevation-z8"
      *ngIf="totalRecords!=0" id="print">


      <ng-container matColumnDef="index">
        <th mat-header-cell *matHeaderCellDef>S No./ <br>Date/<br />Ref. No.</th>
        <td mat-cell *matCellDef="let element; let i = index;">
          {{(searchModel.indexmodel.Page-1)*searchModel.indexmodel.PageSize +(i+1)}}/
          <br>{{ element.AchievementDate !=null ? (element.AchievementDate| date: 'dd/MM/yyyy') :'--'}}<br />
          <span>{{element.Url}}</span></td>
      </ng-container>


      <ng-container matColumnDef="Department">
        <th mat-header-cell *matHeaderCellDef style="width: 20%;">Department/ <br />Category/ <br />Sub category
        </th>
        <td mat-cell *matCellDef="let element; let i = index;" style="width: 20%;">
          {{element.Department}}<span>/<br></span>{{element.AchievementCategory}} <span>/<br></span>
          {{element.AchievementSubCategory}} </td>
      </ng-container>

      <ng-container matColumnDef="Achievement">
        <th mat-header-cell *matHeaderCellDef style="width: 20%;">Summary/Detail</th>
        <td mat-cell *matCellDef="let element; let i = index;">{{element.Achievement}}/
          <br>{{element.AchievementHindi}}
        </td>
      </ng-container>

      <ng-container matColumnDef="CMOComments">
        <th mat-header-cell *matHeaderCellDef style="width: 20%;">CMO Comments</th>
        <td mat-cell *matCellDef="let element; let i = index;">{{element.CMOComments}} </td>
      </ng-container>

      <!-- <ng-container matColumnDef="AchievementHindi">
        <th mat-header-cell *matHeaderCellDef style="width: 30%;">Important Decision (Detail)</th>
        <td mat-cell *matCellDef="let element; let i = index;">{{element.AchievementHindi}} </td>
      </ng-container> -->
      <ng-container matColumnDef="UserName">
        <th mat-header-cell *matHeaderCellDef style="width: 10%;">Created By/ <br /> Created Date</th>
        <td mat-cell *matCellDef="let element; let i = index;">{{element.UserName}} / <br>
          {{ element.ModifiedDate !=null ? (element.ModifiedDate | date: 'dd/MM/yyyy') :'--'}}</td>
      </ng-container>

      <!-- <ng-container [matColumnDef]="column.Value" *ngFor="let column of ViewdisplayedColumns">

        <th mat-header-cell *matHeaderCellDef mat-sort-header> {{column.Text}} </th>
        <td mat-cell *matCellDef="let element"> {{element[column.Value]}} </td>
      </ng-container> -->

      <ng-container matColumnDef="IsActive">
        <th mat-header-cell *matHeaderCellDef class="doNotPrint">Publish Status </th>
        <td mat-cell *matCellDef="let element" class="action-link toogle-btn doNotPrint">
          <a (click)="updateActiveStatus(element.Id)" title="Update Active Status">
            <mat-icon *ngIf="element.IsActive" style="cursor:pointer;color: #74cb74;">toggle_on</mat-icon>
            <mat-icon *ngIf="!element.IsActive" style="cursor:pointer;color: #ff7373;">toggle_off</mat-icon>
          </a>
          <!-- <a title="Active Status" class="doNotPrint">
            <mat-icon *ngIf="element.IsActive" class="doNotPrint" style="cursor:pointer;color:  #74cb74;">toggle_on
            </mat-icon>
            <mat-icon *ngIf="!element.IsActive" class="doNotPrint" style="cursor:pointer;color: #ff7373;">toggle_off
            </mat-icon>
          </a> -->
        </td>
      </ng-container>

      <ng-container matColumnDef="Action" class="doNotPrint">
        <th mat-header-cell *matHeaderCellDef class="doNotPrint"> Action </th>
        <td mat-cell *matCellDef="let element" style="cursor:pointer;" class=" action-link doNotPrint">
          <a (click)="updateDeleteStatus(element.Id)" title="Delete">
            <mat-icon>delete</mat-icon>
          </a>
          <a routerLink="detail/{{element.Id}}" title="Detail">
            <mat-icon>visibility</mat-icon>
          </a>
          <a routerLink="update-ImportantDecision/{{element.Id}}" title="Update">
            <mat-icon>edit</mat-icon>
          </a>
          <a *ngIf="this.Permission.Custome1PageAccess" routerLink="update-ImportantDecisionComment/{{element.Id}}"
            title="CMO Comments">
            <mat-icon>comments</mat-icon>
          </a>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
      <tr mat-row *matRowDef="let row; columns: columnsToDisplay;"></tr>
    </table>
    <!-- <mat-paginator #paginator [length]="totalRecords" [pageSize]="indexModel.PageSize"
      [pageSizeOptions]="[10, 20, 50,100,101]" (page)="onPaginateChange($event)" showFirstLastButtons
      *ngIf="totalRecords!=0">
    </mat-paginator> -->
  </div>



</div>


<!-- </div> -->
