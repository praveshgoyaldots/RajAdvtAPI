<div class="row">
  <div class="col l12 xl12 m12 s12 ">
    <a (click)="toggleDisplay()" class="btn-ad-search">{{!isShow?'Hide Advance Search   ':"Show Advance Search"}}
      <mat-icon>
        {{!isShow?'keyboard_arrow_up  ':"keyboard_arrow_down"}}
      </mat-icon>

    </a>

  </div>
  <br />

</div>


<div class="row" *ngIf="!isShow">

  <div class="col l3 xl3 m6 s12">
    <mat-form-field class="example-full-width" appearance="outline">
        <mat-label>Category<span style="color: red">*</span> </mat-label>
        <mat-select   [(ngModel)]="indexModel.CategoryCode" (selectionChange)="GetJankalyanEntryTypebyDepartmentCode('',$event.value)">
            <mat-option>--Select--</mat-option>
            <mat-option value="{{ k.Value }}" *ngFor="let k of dDLList?.ddlPressReleaseCategory">{{ k.Text }}
            </mat-option>
        </mat-select>
    </mat-form-field>

  </div>
  <div class="col l3 xl3 m6 s12">
    <mat-form-field class="example-full-width" appearance="outline">
        <mat-label> Sub Category <span style="color: red">*</span></mat-label>
        <mat-select  [(ngModel)]="indexModel.SubCategoryCode">
            <mat-option>--Select--</mat-option>
            <mat-option value="{{ k.Value }}" *ngFor="let k of ddlEntryTypeMaster">{{ k.Text }}
            </mat-option>
        </mat-select>
    </mat-form-field>
  </div>



    <div class="col l3 xl3 m6 s12">
      <mat-form-field class="example-full-width" appearance="outline">
        <mat-label>Department</mat-label>
        <mat-select [(ngModel)]="indexModel.DeptValue"  multiple>
          <!-- <mat-option value="{{ k.Value }}" *ngFor="let k of dDLList?.ddlDistrict">{{k.Text}}</mat-option> -->
          <!-- <mat-option value="{{ k.DepartmentCode }}" *ngFor="let k of ddlDepartment">{{ k.DepartmentTitle }} -->
          <mat-option value="{{ k.Value }}" *ngFor="let k of dDLList?.ddlPressReleaseDepartment">{{ k.Text }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>

  <div class="col l3 xl3 m6 s12">
    <mat-form-field class="example-full-width" appearance="outline">
      <mat-label>District</mat-label>
      <mat-select name="DistrictCode" [(ngModel)]="indexModel.DistValue">
        <mat-option>--Select--</mat-option>
        <!-- <mat-option value="{{k.Value}}" *ngFor="let k of dDLList?.ddlDistrict">{{k.Text}}</mat-option> -->
        <mat-option value="{{k.Value}}" *ngFor="let k of dDLList?.ddlDepartmentForDistrictKPIList">{{getEnglishName(k?.Text)}}</mat-option>
      </mat-select>
    </mat-form-field>
  </div>

  <div class="col l3 xl3 m6 s12">
    <mat-form-field class="example-full-width" appearance="outline">
      <mat-label>VIP Category </mat-label>
      <mat-select  [(ngModel)]="indexModel.VipCategory" multiple (ngModelChange)="getParticipantList($event)">
        <mat-option value="{{ k.Value }}" *ngFor="let k of dDLList?.ddlDesignationForPressRelease">{{k.Text}}</mat-option>
      </mat-select>
    </mat-form-field>
  </div>

  <div class="col l3 xl3 m6 s12">
      <mat-form-field class="example-full-width" appearance="outline">
        <mat-label>VIP person
        </mat-label>
        <mat-select [(ngModel)]="indexModel.VipPerson" multiple>
          <mat-option value="{{ k.Value }}" *ngFor="let k of ddlParticipant">{{k.Text}}</mat-option>
        </mat-select>
      </mat-form-field>

    </div>

  <div class="col l3 xl3 m6 s12">
    <mat-form-field class="example-full-width" appearance="outline">
      <mat-label>Modified From Date</mat-label>
      <input matInput [matDatepicker]="picker2" (focus)="picker2.open()" readonly placeholder="Modified From Date" [(ngModel)]="indexModel.FromDate" [max]="indexModel.ToDate">
      <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
      <mat-datepicker #picker2></mat-datepicker>
    </mat-form-field>
  </div>

  <div class="col l3 xl3 m6 s12">
    <mat-form-field class="example-full-width" appearance="outline">
      <mat-label>Modified To Date</mat-label>
      <input matInput [matDatepicker]="picker1" (focus)="picker1.open()" readonly placeholder="Modified To Date" [(ngModel)]="indexModel.ToDate" [min]="indexModel.FromDate">
      <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
      <mat-datepicker #picker1></mat-datepicker>
    </mat-form-field>
  </div>

  <div class="col l3 xl3 m6 s12">
    <mat-form-field class="example-full-width" appearance="outline">
      <mat-label>Press Release From Date</mat-label>
      <input matInput [matDatepicker]="picker3" (focus)="picker3.open()" readonly placeholder="Press Release From Date" [(ngModel)]="indexModel.PressReleaseFromDate" [max]="indexModel.PressReleaseToDate">
      <mat-datepicker-toggle matSuffix [for]="picker3"></mat-datepicker-toggle>
      <mat-datepicker #picker3></mat-datepicker>
    </mat-form-field>
  </div>

  <div class="col l3 xl3 m6 s12">
    <mat-form-field class="example-full-width" appearance="outline">
      <mat-label>Press Release To Date</mat-label>
      <input matInput [matDatepicker]="picker4" (focus)="picker4.open()" readonly placeholder="Press Release To Date" [(ngModel)]="indexModel.PressReleaseToDate" [min]="indexModel.PressReleaseFromDate">
      <mat-datepicker-toggle matSuffix [for]="picker4"></mat-datepicker-toggle>
      <mat-datepicker #picker4></mat-datepicker>
    </mat-form-field>
  </div>

  <div class="col l3 xl3 m6 s12">
    <mat-label class="mb-10 d-block">Get Active De-Active Data</mat-label>
    <mat-radio-group class="radio_grp" aria-label="Select an option" [(ngModel)]="indexModel.Status">
      <mat-radio-button [value]="1" (change)="getActiveDeActiveData(1)" [checked]="indexModel.Status==1">Active
      </mat-radio-button>
      <mat-radio-button [value]="0" (change)="getActiveDeActiveData(0)">De-Active</mat-radio-button>
      <mat-radio-button [value]="-1" (change)="getActiveDeActiveData(-1)">Both</mat-radio-button>
    </mat-radio-group>
  </div>

  <div class="col l3 xl3 m6 s12">
    <mat-form-field class="example-full-width" appearance="outline">
      <input matInput placeholder="Entry Number" [(ngModel)]="indexModel.Id" type="number"/>
    </mat-form-field>
  </div>

  <div class="col l3 xl3 m6 s12">
    <mat-form-field class="example-full-width" appearance="outline">
      <input matInput placeholder="DIPR Number" [(ngModel)]="indexModel.DIPR_Id" type="number"/>
    </mat-form-field>
  </div>

  <div class="col l3 xl3 m6 s12">
    <mat-form-field class="example-full-width" appearance="outline">
      <mat-label> Modified By</mat-label>
      <mat-select [(ngModel)]="indexModel.ModifiedBy">
        <mat-option value="{{item.Value}}" *ngFor="let item of dDLList?.ddlModifiedBypressRelease">
          {{item.Text}} </mat-option>
      </mat-select>
    </mat-form-field>
  </div>


<div class="row">
  <div class="col l12 xl12 m12 s12 ">
    <button (click)="searchClick();" mat-button class="btn-submit btn_green mr-5">Search</button>
    <button (click)="clearClick();"  mat-button class="btn-submit btn_orange mat-button  mr-5">Reset<mat-icon>refresh</mat-icon>
    </button>
  </div>

</div>

</div>




<div class="row m-0">

    <!-- <app-global-list-search  [SearchFields]="searchColumns" (onSearch)="SearchByKeyword($event)" (clear)="onClearclick()"></app-global-list-search> -->

  <div class="col l12 s12 p-0">
<div class="table-responsive">

<table mat-table [dataSource]="dataSource" matSort (matSortChange)="SortData($event)" class="mat-elevation-z8" style="vertical-align:top !important;overflow-wrap: break-word;">
  <ng-container matColumnDef="index">
    <th mat-header-cell *matHeaderCellDef>#</th>
    <td mat-cell *matCellDef="let element; let i = index">
      {{ (indexModel.Page - 1) * indexModel.PageSize + (i + 1) }}
    </td>
  </ng-container>
  <ng-container matColumnDef="Id">

    <th mat-header-cell *matHeaderCellDef mat-sort-header>
      <!-- <br />Is Image/document -->
    <table class="table-in-data-head">
      <tbody>
        <tr>
          <td> Our Entry NO</td>
        </tr>
        <tr>
          <td> Home Page Image </td>
        </tr>
        <tr>
          <td> Category</td>
        </tr>
        <tr>
          <td> Sub Category</td>
        </tr>
      </tbody>
    </table>
    </th>
    <td mat-cell *matCellDef="let element; let i = index;">
      <table class="table-in-data">
        <tbody>
          <tr>
            <td>{{element.Id}}</td>
          </tr>
          <tr>
            <td>      <a *ngIf="element.HomePageImageUrl" href="{{element.HomePageImageUrl}}" target="_blank" title="View home page image" >
              <mat-icon class="material-icons-outlined">
                image
                </mat-icon>
            </a></td>
          </tr>
          <tr>
            <td> <span *ngIf="element.CategoryNameEnglish">{{element.CategoryNameEnglish}}</span></td>
          </tr>
          <tr>
            <td>  <span *ngIf="element.SubCategoryNameEnglish">{{element.SubCategoryNameEnglish}}</span></td>
          </tr>

        </tbody>
      </table>


      <!-- <img *ngIf="element.HomePageImageUrl" [src]="element.HomePageImageUrl" style="height: 50px; width: 50px;" /> -->
      <!-- <br>
      <span *ngIf="element.ImageAttachmentCount > 0"> {{element.ImageAttachmentCount}} Images </span>
      <span *ngIf="element.AttachmentCount > 0"> {{element.AttachmentCount}} documents </span> -->
    </td>
  </ng-container>
  <ng-container [matColumnDef]="column.Value" *ngFor="let column of ViewdisplayedColumns">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>
      {{ column.Text }}
    </th>
    <td mat-cell *matCellDef="let element">{{ element[column.Value] }}</td>

  </ng-container>

  <ng-container matColumnDef="DistrictName" >
    <th mat-header-cell *matHeaderCellDef>District Name</th>
    <td mat-cell *matCellDef="let element">{{element.DistrictName}}
    </td>
</ng-container>

<!-- <ng-container matColumnDef="CategoryNameEnglish" >
  <th mat-header-cell *matHeaderCellDef>Category / Sub-Category</th>
  <td mat-cell *matCellDef="let element">{{element.CategoryNameEnglish}} <span *ngIf="element.SubCategoryNameEnglish"> / {{element.CategoryNameEnglish}}</span>
  </td>
</ng-container> -->

<!-- <ng-container matColumnDef="CreatedDate">
  <th mat-header-cell *matHeaderCellDef mat-sort-header> Press Release Date </th>
  <td mat-cell *matCellDef="let group" class="action-link toogle-btn">
    {{ group.CreatedDate !=null ? (group.CreatedDate| date: 'dd/MM/yyyy') :'--' }}
  </td>
</ng-container> -->

<ng-container matColumnDef="CreatedDate">
  <th mat-header-cell *matHeaderCellDef mat-sort-header> Press Release Date <br />DIPR_ID</th>
  <td mat-cell *matCellDef="let element; let i = index;"> {{ element.PressreleaseDate !=null ? (element.PressreleaseDate| date: 'dd/MM/yyyy') :'--' }}
    <br>
    {{element.DIPR_Id}}
  </td>
</ng-container>


<ng-container matColumnDef="ModifiedByName">
  <th mat-header-cell *matHeaderCellDef>Modified By(Modified Date) </th>
  <td mat-cell *matCellDef="let element; let i = index;">
    {{element.ModifiedByName}} ({{(element.ModifiedDate | date: 'dd/MM/yyy , h:mm:ss a')}})
  </td>
</ng-container>

  <ng-container matColumnDef="Status">

    <th mat-header-cell *matHeaderCellDef>Active Status</th>
    <td mat-cell *matCellDef="let group" class="toogle-btn">
      <div>
        <ng-container>
          <div  *ngIf="group.IsLock " title="This is Locked record">
            <mat-icon class="toggle_on" *ngIf="group.IsActive" style="cursor:pointer;">toggle_on</mat-icon>
            <mat-icon class="toggle_off" *ngIf="!group.IsActive" style="cursor:pointer;">toggle_off</mat-icon>
          </div>
          <a href="JavaScript:Void(0);" *ngIf="!group.IsLock " (click)="statusClick(group.Id)" title="This is Saved record">
              <mat-icon class="toggle_on" *ngIf="group.IsActive" style="cursor:pointer;">toggle_on</mat-icon>
              <mat-icon class="toggle_off" *ngIf="!group.IsActive" style="cursor:pointer;">toggle_off</mat-icon>
            </a>

         </ng-container>

      </div>
    </td>
  </ng-container>


  <ng-container matColumnDef="Action">
    <th mat-header-cell *matHeaderCellDef>Action</th>
    <td mat-cell *matCellDef="let element" class="action-link">

        <a *ngIf="this.PressReleasePermission.UpdatePageAccess && !element.IsLock " routerLink="/tender-press-release/press-release/update/{{ element.Id }}" title="Edit"
      class="btn_edit">
      <mat-icon>edit</mat-icon>
    </a>

    <!-- <a href="JavaScript:Void(0);" routerLink="/newspaper/detail/{{ element.Id }}" title="Detail">
        <mat-icon>visibility</mat-icon>
      </a> -->
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
  <tr mat-row *matRowDef="let row; columns: columnsToDisplay"></tr>
</table>
</div>


<mat-paginator #paginator [length]="totalRecords" [pageSize]="indexModel.PageSize"
  [pageSizeOptions]="[10,50,100,1000,totalRecords]" (page)="onPaginateChange($event)" showFirstLastButtons>
</mat-paginator>



</div>

</div>
