<!-- <app-global-list-search [SearchFields]="searchColumns" (onSearch)="SearchByKeyword($event)">
</app-global-list-search> -->
<div class="row">
  <div style="text-align: right;" class="col l6 s6 download_pdf" *ngIf="helpDocument?.Url"> <a
      (click)="downloadPdf(helpDocument.Url,true)" href="JavaScript:Void(0);">
      <mat-icon>picture_as_pdf</mat-icon>
      Click to download Help Document
    </a> </div>
  <div style="text-align: left;" class="col l6 s6 download_pdf" *ngIf="helpDocument?.BlankDocUrl"> <a
      (click)="downloadPdf(helpDocument.BlankDocUrl)" href="JavaScript:Void(0);">
      <mat-icon>picture_as_pdf</mat-icon>
      Click to download Blank Document
    </a> </div>
</div>

<div class="row mb-0">
  <div class="col l6 xl6 m6 s6">
    <mat-form-field class="example-full-width" appearance="outline">
      <mat-label>From Date</mat-label>
      <input matInput [matDatepicker]="picker1" (focus)="picker1.open()" readonly placeholder="From Date"
        [(ngModel)]="indexModel.FromDate" [max]="indexModel.ToDate">
      <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
      <mat-datepicker #picker1></mat-datepicker>
    </mat-form-field>
  </div>
  <div class="col l6 xl6 m6 s6">
    <mat-form-field class="example-full-width" appearance="outline">
      <mat-label>To Date</mat-label>
      <input matInput [matDatepicker]="picker2" (focus)="picker2.open()" readonly placeholder="To Date"
        [(ngModel)]="indexModel.ToDate" [min]="indexModel.FromDate">
      <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
      <mat-datepicker #picker2></mat-datepicker>
    </mat-form-field>
  </div>
  <div class="col l12  s12 ">
    <mat-form-field class="example-full-width" appearance="outline">
      <input matInput placeholder="Search" (keyup)="SearchByKeyword($event);" [(ngModel)]="indexModel.SearchField" />
    </mat-form-field>
  </div>
</div>

<div class="row">
  <div class="col l12 s12">
    <div class="row m-20 mb-0">
      <div class="col l6 xl6 m6 s12">
        <mat-form-field class="example-full-width" appearance="outline">
          <mat-label> Department<span style="color: red">*</span> </mat-label>
          <mat-select [(ngModel)]="indexModel.DepartmentCode" (ngModelChange)="getSchemeList($event)">
            <mat-option value="">--Select--</mat-option>
            <mat-option value="0">All</mat-option>
            <mat-option value="{{ k.Value }}" *ngFor="let k of dDLList?.ddlDepartment">{{ k.Text }}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      <div class="col l6 xl6 m6 s12">
        <mat-form-field class="example-full-width" appearance="outline">
          <mat-label> Scheme Name<span style="color: red">*</span> </mat-label>
          <mat-select [(ngModel)]="indexModel.SchemeCode">
            <mat-option value="">--Select--</mat-option>
            <mat-option value="{{ k.Value }}" *ngFor="let k of dDLList?.ddlSchemeName">{{ k.Text }}</mat-option>
          </mat-select>
        </mat-form-field>

      </div>

    </div>

    <div class="row m-20" style="margin-top: 0px;">
      <div class="col l6 xl6 m6 s12" style="padding-top: 6px;">
        <button (click)="SearchByKeyword($event);" class="btn btn_note btn_green"
          style="margin-right: 10px;">Search</button>
        <button (click)="Reset();" class="btn btn_orange">Reset</button>
      </div>

      <div class="col l6 xl6 m6 s12 text-right" style="padding-top: 6px;">
        <mat-label class="mr-5">Get Active De-Active Data</mat-label>
        <mat-radio-group class="radio_grp" aria-label="Select an option" [(ngModel)]="isActive">
          <mat-radio-button [value]="1" (change)="getActiveDeActiveData(1)" [checked]="isActive==1">Active
          </mat-radio-button>
          <mat-radio-button [value]="0" (change)="getActiveDeActiveData(0)">De-Active</mat-radio-button>
          <mat-radio-button [value]="-1" (change)="getActiveDeActiveData(-1)">Both</mat-radio-button>
        </mat-radio-group>
      </div>
      <!-- <div class="col l6 xl6 m6 s12 download_pdf" *ngIf="helpDocUrl"> <a (click)="downloadPdf(helpDocUrl)"
          href="JavaScript:Void(0);">
          <mat-icon>picture_as_pdf</mat-icon>
          Click to download Help Document
        </a> </div> -->



    </div>

    <div class="table-responsive">
      <table mat-table [dataSource]="dataSource" matSort (matSortChange)="SortData($event)" class="mat-elevation-z8"
        style="vertical-align:top !important;overflow-wrap: break-word;">
        <ng-container matColumnDef="index">
          <th mat-header-cell *matHeaderCellDef>#</th>
          <td mat-cell *matCellDef="let element; let i = index">
            {{ (indexModel.Page - 1) * indexModel.PageSize + (i + 1) }}
          </td>
        </ng-container>

        <ng-container [matColumnDef]="column.Value" *ngFor="let column of ViewdisplayedColumns">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            {{ column.Text }}
          </th>
          <td mat-cell *matCellDef="let element">{{ element[column.Value] }}</td>

        </ng-container>

        <ng-container matColumnDef="NameEnglish">
          <th mat-header-cell *matHeaderCellDef style="width: 250px;"> Scheme Name (Eng) </th>
          <td mat-cell *matCellDef="let group" class="action-link toogle-btn" title={{group.NameEnglish}}>
            {{ group.NameEnglish  }}
            <br>
            <span *ngIf="group.FaqCount>=0" style="font-weight: bold;">No Of FAQ = {{group.FaqCount}}</span>
          </td>
        </ng-container>

        <ng-container matColumnDef="NameHindi">
          <th mat-header-cell *matHeaderCellDef style="width: 350px;"> Scheme Name(Hindi) </th>
          <td mat-cell *matCellDef="let group" class="action-link toogle-btn" title={{group.NameHindi}}>
            {{ group.NameHindi }}
          </td>
        </ng-container>

        <ng-container matColumnDef="NodalDepartmentTitle">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            Nodel Department Name
          </th>
          <td mat-cell *matCellDef="let element">
            <span innerHTML="{{element.NodalDepartmentTitle}}"></span>
          </td>
        </ng-container>


        <ng-container matColumnDef="ModifiedDate">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Last Update Date </th>
          <td mat-cell *matCellDef="let group" class="action-link toogle-btn">
            {{ group.ModifiedDate !=null ? (group.ModifiedDate | date: 'dd/MM/yyyy') :'--' }}
          </td>
        </ng-container>

        <ng-container matColumnDef="ModifiedName">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Last Modified By </th>
          <td mat-cell *matCellDef="let group" class="action-link toogle-btn">
            {{ group.ModifiedName }}
          </td>
        </ng-container>

        <ng-container matColumnDef="Status">

          <th mat-header-cell *matHeaderCellDef>Active Status</th>
          <td mat-cell *matCellDef="let group" class="toogle-btn">
            <div>
              <ng-container>
                <div *ngIf="group.IsLock " title="This is Locked record">
                  <mat-icon class="toggle_on" *ngIf="group.IsActive" style="cursor:pointer;">toggle_on</mat-icon>
                  <mat-icon class="toggle_off" *ngIf="!group.IsActive" style="cursor:pointer;">toggle_off</mat-icon>
                </div>
                <a href="JavaScript:Void(0);" *ngIf="!group.IsLock " (click)="statusClick(group.Id)"
                  title="This is Saved record">
                  <mat-icon class="toggle_on" *ngIf="group.IsActive" style="cursor:pointer;">toggle_on</mat-icon>
                  <mat-icon class="toggle_off" *ngIf="!group.IsActive" style="cursor:pointer;">toggle_off</mat-icon>
                </a>
                <!-- <a href="JavaScript:Void(0);" title="This is Draft record">
                    <mat-icon class="toggle_on" *ngIf="group.IsActive" style="cursor:pointer;">toggle_on</mat-icon>
                    <mat-icon class="toggle_off" *ngIf="!group.IsActive" style="cursor:pointer;">toggle_off</mat-icon>
                  </a> -->
              </ng-container>
              <!-- <ng-container>
              <a href="JavaScript:Void(0);" (click)="statusClick(group.Id)">
                <mat-icon class="toggle_on" *ngIf="group.IsActive" style="cursor:pointer;">toggle_on</mat-icon>
                <mat-icon class="toggle_off" *ngIf="!group.IsActive" style="cursor:pointer;">toggle_off</mat-icon>
              </a>
            </ng-container> -->
            </div>
          </td>
        </ng-container>
        <ng-container matColumnDef="Lock">

          <th mat-header-cell *matHeaderCellDef>Lock Record</th>
          <td mat-cell *matCellDef="let group" class="toogle-btn">
            <div *ngIf="!this.SchemePermission.Custom3PageAccess">
              <ng-container>
                <mat-icon class="toggle_on" *ngIf="group.IsLock" style="cursor:pointer;">toggle_on</mat-icon>
                <mat-icon class="toggle_off" *ngIf="!group.IsLock" style="cursor:pointer;">toggle_off</mat-icon>
              </ng-container>

            </div>
            <div *ngIf="this.SchemePermission.Custom3PageAccess">
              <ng-container> <a href="JavaScript:Void(0);" (click)="lockClick(group.Id)">
                  <mat-icon class="toggle_on" *ngIf="group.IsLock" style="cursor:pointer;">toggle_on</mat-icon>
                  <mat-icon class="toggle_off" *ngIf="!group.IsLock" style="cursor:pointer;">toggle_off</mat-icon>
                </a> </ng-container>
            </div>
          </td>
        </ng-container>



        <ng-container matColumnDef="Action">
          <th mat-header-cell *matHeaderCellDef>Action</th>
          <td mat-cell *matCellDef="let element" class="action-link">
            <!-- <a *ngIf="this.SchemePermission.DetailPageAccess" routerLink="/scheme/detail/{{ element.Id }}" title="Detail"
  class="btn_list">
  <mat-icon>list</mat-icon>
  </a> -->
            <a *ngIf="this.SchemePermission.UpdatePageAccess && !element.IsLock "
              routerLink="/scheme/update/{{ element.Id }}" title="Edit" class="btn_edit">
              <mat-icon>edit</mat-icon>
            </a>
            <!-- <a *ngIf="this.SchemePermission.UpdatePageAccess && !element.IsLock && (element.PageType == SchemeTypeEnum.Individual || !element.PageType)" routerLink="/scheme/update/{{ element.Id }}" title="Update Individual Scheme"
  class="btn_edit">
  <mat-icon>edit</mat-icon>
  </a> -->
            <!-- <a *ngIf="this.SchemePermission.UpdatePageAccess && !element.IsLock && (element.PageType == SchemeTypeEnum.Group)" routerLink="/scheme/update-group/{{ element.Id }}" title="Update Group Scheme"
  class="btn_edit">
  <mat-icon>edit</mat-icon>
  </a> -->
            <a *ngIf="this.SchemePermission.DeletePageAccess" routerLink="/scheme/delete/{{ element.Id }}"
              title="delete" class="btn_delete">
              <mat-icon>delete</mat-icon>
            </a>
            <a *ngIf="this.SchemePermission.Custome1PageAccess && !element.IsLock"
              routerLink="/scheme/faq/{{ element.Id }}" title="{{ element.FaqCount }} FAQ" class="btn_faq">
              <mat-icon>question_answer</mat-icon>
            </a>
            <!-- <a *ngIf="this.SchemePermission.Custom2PageAccess" routerLink="/scheme/monitoringparameter/{{ element.Id }}"
  title="Monitoring Parameters" class="btn_note">
  <mat-icon>note_add</mat-icon>
  </a> -->

            <a href="JavaScript:Void(0);" (click)="openSendNotificationDialog(element.NodelDepartmentCode)"
              title="Send Notification" class="btn_edit">
              <mat-icon>sms</mat-icon>
            </a>

            <a href="JavaScript:Void(0);" (click)="openOfficersDetailsDialog(element.NodelDepartmentCode)"
              title="View Officers Details" class="btn_edit">
              <mat-icon>visibility</mat-icon>
            </a>

            <a href="JavaScript:Void(0);" (click)="openUpdateBeneficiaryDialog(element.Id)"
            title="Update Beneficiary" class="btn_edit">
            <mat-icon>update</mat-icon>
          </a>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
        <tr mat-row *matRowDef="let row; columns: columnsToDisplay"></tr>
      </table>
    </div>


    <mat-paginator #paginator [length]="totalRecords" [pageSize]="indexModel.PageSize"
      [pageSizeOptions]="[5, 10, 20, 50,totalRecords]" (page)="onPaginateChange($event)" showFirstLastButtons>
    </mat-paginator>

  </div>
</div>
