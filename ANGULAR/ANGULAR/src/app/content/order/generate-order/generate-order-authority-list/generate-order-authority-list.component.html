
    <app-global-list-search  [SearchFields]="searchColumns" (onSearch)="SearchByKeyword($event)" ></app-global-list-search>
    <div class="row">
        <div class="col l12 s12 ">
          <table mat-table [dataSource]="dataSource" matSort (matSortChange)="SortData($event)" class="mat-elevation-z8 table_border">

              <ng-container matColumnDef="index">
                  <th mat-header-cell *matHeaderCellDef>Sr No</th>
                  <td mat-cell *matCellDef="let element; let i = index;">  {{(indexModel.Page-1)*indexModel.PageSize +(i+1)}}</td>
                </ng-container>

            <ng-container [matColumnDef]="column.Value" *ngFor="let column of ViewdisplayedColumns">

              <th mat-header-cell *matHeaderCellDef mat-sort-header> {{column.Text}} </th>
              <td mat-cell *matCellDef="let element"> {{element[column.Value]}} </td>
            </ng-container>
            <ng-container matColumnDef="Date">
              <th mat-header-cell *matHeaderCellDef> Date of Issue </th>
              <td mat-cell *matCellDef="let group" class="action-link toogle-btn">
                {{ group.Date !=null ? (group.Date| date: 'dd/MM/yyyy') :'--' }}
              </td>
            </ng-container>
            <ng-container matColumnDef="CreatedDate">
              <th mat-header-cell *matHeaderCellDef> Date of Entry </th>
              <td mat-cell *matCellDef="let group" class="action-link toogle-btn">
                {{ group.CreatedDate !=null ? (group.CreatedDate| date: 'dd/MM/yyyy') :'--' }}
              </td>
            </ng-container>


            <!-- <ng-container matColumnDef="Status">
              <th mat-header-cell *matHeaderCellDef> Published </th>
              <td mat-cell *matCellDef="let group" class="action-link toogle-btn">
                <ng-container>
                  <div *ngIf="!group.ESignedFinalUrl" title="This is Locked record">
                    <mat-icon class="toggle_on" *ngIf="group.IsActive" style="cursor:pointer;">toggle_on</mat-icon>
                    <mat-icon class="toggle_off" *ngIf="!group.IsActive" style="cursor:pointer;">toggle_off</mat-icon>
                  </div>
                  <a href="JavaScript:Void(0);" *ngIf="group.ESignedFinalUrl && this.generateOrderPermission.UpdatePageAccess" (click)="statusClick(group.Id)" title="Publish">
                    <mat-icon class="toggle_on" *ngIf="group.IsActive" style="cursor:pointer;">toggle_on</mat-icon>
                    <mat-icon class="toggle_off" *ngIf="!group.IsActive" style="cursor:pointer;">toggle_off</mat-icon>
                  </a>
                 </ng-container>
              </td>
            </ng-container> -->

            <ng-container matColumnDef="AllowToEdit">
                <th mat-header-cell *matHeaderCellDef>Allow To Edit</th>
                <td mat-cell *matCellDef="let group" class="toogle-btn">
                  <div *ngIf="group.IsCancel || (this.generateOrderPermission.DeletePageAccess && group.ESignedUrl5) || !this.generateOrderPermission.DeletePageAccess">
                    <ng-container>
                      <mat-icon style="cursor:pointer;" title="Block">lock</mat-icon>
                   </ng-container>
                  </div>
                  <div *ngIf="this.generateOrderPermission.DeletePageAccess && !group.ESignedUrl5 && !group.IsCancel" >
                    <ng-container> <a href="JavaScript:Void(0);" (click)="lockClick(group.Id)">
                      <mat-icon  class="toggle_on" *ngIf="!group.IsLock" style="cursor:pointer; font-size: 20px;" title="Click To Block">edit_attributes</mat-icon>
                      <mat-icon  class="toggle_off" *ngIf="group.IsLock" style="cursor:pointer; font-size: 20px;" title="Click To Allow">cancel_presentation</mat-icon>
                    </a> </ng-container>
                  </div>
                </td>
              </ng-container>



            <ng-container matColumnDef="Action">
                <th  width="130" mat-header-cell *matHeaderCellDef> Action </th>
                <td mat-cell *matCellDef="let group" class="action-link-btn">
                  <a class="btn_delete"  (click)="previewClick(group.Id)" title="Preview"><mat-icon >image</mat-icon></a>

                  <a *ngIf="!group.ESignedUrl5 && !group.IsCancel"  title="Click to sign document" (click)="DocumentESign(group.Id)"><mat-icon >assignment_turned_in</mat-icon></a>

                  <a href="JavaScript:Void(0);" *ngIf="group.ESignedFinalUrl && this.generateOrderPermission.UpdatePageAccess" (click)="statusClick(group.Id)" >
                    <mat-icon class="toggle_on" *ngIf="group.IsActive" style="cursor:pointer;" title="Published">toggle_on</mat-icon>
                    <mat-icon class="toggle_off" *ngIf="!group.IsActive" style="cursor:pointer;" title="Click To Publish">toggle_off</mat-icon>
                  </a>

                  <a *ngIf="group.ESignedUrl1" (click)="downloadPdf(group.ESignedUrl1)" title="Document V1"><mat-icon >cloud_download</mat-icon></a>
                  <a  *ngIf="group.ESignedUrl2" (click)="downloadPdf(group.ESignedUrl2)" title="Document V2"><mat-icon >cloud_download</mat-icon></a>
                  <a  *ngIf="group.ESignedUrl3" (click)="downloadPdf(group.ESignedUrl3)" title="Document V3"><mat-icon >cloud_download</mat-icon></a>
                  <a  *ngIf="group.ESignedUrl4" (click)="downloadPdf(group.ESignedUrl4)" title="Document V4"><mat-icon >cloud_download</mat-icon></a>
                  <a  *ngIf="group.ESignedUrl5" (click)="downloadPdf(group.ESignedUrl5)" title="Document V5"><mat-icon >cloud_download</mat-icon></a>

                  <!-- <a class="btn_delete" *ngIf="this.generateOrderPermission.DetailPageAccess " routerLink="/order/generateorderpreview/{{group.Id}}" title="Preview"><mat-icon >image</mat-icon></a> -->

                  <a *ngIf="this.generateOrderPermission.UpdatePageAccess && !group.IsCancel"  title="Send Email" (click)="sendNotificationClick(group.Id,true)"><mat-icon >mail</mat-icon></a>
                  <a *ngIf="this.generateOrderPermission.UpdatePageAccess && !group.IsCancel"  title="Send SMS" (click)="sendNotificationClick(group.Id)"><mat-icon >sms</mat-icon></a>

                  <!-- Order Cancellation Action START-->
                  <a class="btn_delete" *ngIf="this.generateOrderPermission.Custome1PageAccess && group.IsCancel"  title="Order Cancelled" ><mat-icon >close</mat-icon></a>
                  <a *ngIf="this.generateOrderPermission.Custome1PageAccess && !group.IsCancel"  title="Click To Cancel Order" (click)="orderCancellationClick(group.Id)"><mat-icon >cancel</mat-icon></a>

                   <!-- Order Cancellation Action END-->
                  </td>

          </ng-container>

            <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
            <tr mat-row *matRowDef="let row; columns: columnsToDisplay; let entry" [ngClass]="{'make-gold': entry.IsCancel == true}"></tr>
          </table>
          <mat-paginator #paginator [length]="totalRecords" [pageSize]="indexModel.PageSize" [pageSizeOptions]="[5,10, 20, 50]"
        (page)="onPaginateChange($event)" showFirstLastButtons>
      </mat-paginator>
        </div>
      </div>
