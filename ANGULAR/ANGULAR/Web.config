<?xml version="1.0" encoding="UTF-8"?>
<configuration>
    <system.webServer>
        <defaultDocument>
            <files>
                <remove value="Default.htm" />
                <remove value="Default.asp" />
                <remove value="index.htm" />
                <remove value="iisstart.htm" />
                <remove value="default.aspx" />
            </files>
        </defaultDocument>
        <rewrite>
            <rules>
                <!-- <rule name="Angular Routes"> -->
                    <!-- <match url=".*" /> -->
                    <!-- <conditions> -->
                        <!-- <add input="{REQUEST_FILENAME}" matchType="IsFile" negate="true" /> -->
                        <!-- <add input="{REQUEST_FILENAME}" matchType="IsFile" negate="true" /> -->
                    <!-- </conditions> -->
                    <!-- <action type="Rewrite" url="http://{HTTP_HOST}{REQUEST_URI}" /> -->
                <!-- </rule> -->
            
        <rule name="Host Header Validation" stopProcessing="true">
          <match url="(.)" />
          <conditions>
            <add input="{HTTP_HOST}" pattern="^([a-zA-Z0-9-_]+.)*cmosecurityauditapp.projectstatus.in$" negate="true" />
          </conditions>
          <action type="Redirect" url="http://cmosecurityauditapp.projectstatus.in/" />
        </rule>
      </rules>
	  
        </rewrite>
   

    

    <security>
      <requestFiltering>
        <verbs allowUnlisted="true">
          <add verb="OPTIONS" allowed="false" />
          <add verb="DELETE" allowed="false" />
          <add verb="TRACE" allowed="false" />
        </verbs>

        <denyUrlSequences>
          <add sequence=".." />
          <add sequence=":" />
          <add sequence="\" />
          <add sequence="()" />
        </denyUrlSequences>
        <hiddenSegments>
          <add segment="NWebsecConfig" />
        </hiddenSegments>

        <requestLimits maxAllowedContentLength="5033164" />
        <!--50MB   92428800-->
      </requestFiltering>
    </security>

    <httpProtocol>
      <customHeaders>

         <remove name="ETag" /> 
        <remove name="X-Powered-By" />
        <remove name="X-AspNetMvc-Version" />
        <remove name="X-AspNet-Version" />
        <remove name="X-Content-Type-Options" />
        <remove name="Server" />
        <add name="ETag" value="" />
         
        <add name="X-Content-Type-Options" value="nosniff" />
        <add name="X-XSS-Protection" value="1; mode=block" /> 
        <add name="Content-Security-Policy" value="default-src" />
        <add name="X-Frame-Options" value="DENY" />
        <add name="X-Powered-By" value=""/>
        <add name="X-AspNetMvc-Version" value=""/>
        <add name="X-AspNet-Version" value=""/> 
        <add name="Access-Control-Request-Method" value="GET,POST" />
        <add name="Access-Control-Allow-Headers" value="*" />
        <add name="Referrer-Policy" value="SAMEORIGIN" />
        <add name="X-Permitted-Cross-Domain-Policies" value="none" />
        <add name="Strict-Transport-Security" value="max-age=31536000; includeSubDomains" />  
      </customHeaders>
    </httpProtocol>

    <httpCompression directory="%SystemDrive%\inetpub\temp\IIS Temporary Compressed Files">
      <scheme name="gzip" dll="%Windir%\system32\inetsrv\gzip.dll" />
      <dynamicTypes>
        <add mimeType="text/*" enabled="true" />
        <add mimeType="message/*" enabled="true" />
        <add mimeType="application/javascript" enabled="true" />
        <add mimeType="*/*" enabled="false" />
      </dynamicTypes>
      <staticTypes>
        <add mimeType="text/*" enabled="true" />
        <add mimeType="message/*" enabled="true" />
        <add mimeType="application/javascript" enabled="true" />
        <add mimeType="*/*" enabled="false" />
      </staticTypes>
    </httpCompression>


    <httpErrors errorMode="Custom" existingResponse="PassThrough">
      <remove statusCode="404" subStatusCode="-1" />
      <remove statusCode="500" subStatusCode="-1" />
    </httpErrors>
   </system.webServer>
</configuration>
